--// Debug

local Debug = false

--\\

if XRO_LOADED or XRO_LOADING then
	return
end

if not LRM_IsUserPremium then
	return warn("X-RO_LOADER > You are not whitelisted.")
end

if not Drawing then
	return warn("X-RO_LOADER > Your script execution engine does not support X-Ro.")
end

if not Debug then
	if not XRO_AUTH_KEY or not XRO_AUTH_KEY == (((((((((((((((((((((((((((((((((0x12==0x2)and'\64'or((not(0xd==0xf)))and'\69'))))))))))))))..(((((((((((((((((((not(#{not(0x5>=0xa);324,#'0XF'}>=#"ppqpppppqqpqqpppqqpppqqppqqqpqppqpqqpppqqpqqpppq"))and'\120'or((not(#{#'0X12',0x90,"ll",0x30<0x1d;'IIlIIlIIlllllIlIII';"IllIlIIIIIIlIIllll"}==0xa)))and'\99'))))))))))))))))))..(((((((((((((#{'lIIIIIlIIIIllIIlIll',#'0X13',not(0x41<0x19);0x6>=0x5;#"IlIIlll";0x79;not(0x20>=0x12),not(0x1c>=0x11),144,0xa>0x7,0x121;not(0x12>0xb)}>0x9)and"\117"or((0x12>=#{#'lllIIlIIllIl';0x144,not(0x6==0x4);25;0xea~=0x1c;'lllIlIIIIllllllI',225;'0X12';not(0x1<=0x2);#"0X4";#'0XB';"0X13",49;"lIIlIIlIl"}))and"\60"))))))))))))..((((((((((#'qpqpqpqpqpqqqppppqpq'<0x10)and"\42"or((not(0x5<#'')))and"\110")))))))))..((((((((((not(#{"0X2",#"0X7",'IIIIIIll'}<=#{#'0X13',4;0x24;'0xe';'llIIIlllIIlllIIIllI';#'0X7';not(0xa~=0x12);400;#"lIIllllll";"llIlIIIllIlIlII",25;#"0X8";0x90,'0X3',"0XE";36;324}))and'\107'or((not(0x14>#{'lIlIlIlIIIlIIIIII',#"0X5",#"llIllllIl",0xe1;196,#'lIIIIIIllIlIIIll';0x37==0x13;#"llllIlllllIlllIlIl",'Illll',#"0X4",0x40;#"0X5";#"0X2",0x1;"0X10",0x4;"0X7";0x2<=0x3,169;#"l"})))and'\121')))))))))..(((((((not(#{not(0xfc>=0x18);#'0X11';0x51;'lllIIllIIIIllIIIll';0xc>=0xb,not(0xb4>=0x1d),"IlIIlIIIlIIIIlIIIl",#"0X5","lllllllI";#'lIII';0x144,'0x14',0x169,'0X5';#'ll';"0X14"}<=#{#'lIIIlIIIllI';"0X7","0X11","0X14",4,#"0X13";not(0x40>=0x9);121;0x169,"llIIIllIIllIllIlI";#"0X14",144,169;not(0xd2~=0x14);196,0x2c<0xe;"0XF"}))and'\39'or((0xf~=#{not(0x1e<=0xa);#'0XF',#"0X5";1;'llIIIlIll',0x31,4;'IlIl';'IlIllIlIlIIIllllIll',0x9;not(0x32==0x12),0x10;not(0x154>=0x16);36;#'llllIIIlIIIIlIl';"0XF"}))and'\115'))))))..(((((((((((((((((((((not(#"">#{0x1,"IlIl";'lll',#'llIIIIIlIlIIl';not(0x22<0x13);not(0x1==0x2),#'Illl'}))and'\68'or((not(0x10==#"dbbbbbbbbddbdd")))and'\120'))))))))))))))))))))..((((((((((((((((((not(0x7<=0x11))and"\99"or((#"_88d_r_4_375_96_tjew7_p_1_en_jc_"~=#{not(0x4e<0x13);0x90,"llIIIlIlIllllll",0xe1;"0X12";not(0xb4<0x1d),not(0x4c>=0x1a),169;0x190,not(0x22~=0x1d);400,0x79,'IlllIIIIIlIIlIlll',0x28<=0x11,#'lIIlIlIl',0x40;"Il";0x5<=0x9,0x10}))and'\101')))))))))))))))))..(((((((((((((((((0x5==#{361,not(0x130~=0x17),"0XB",0xf~=0x8,#"0XA",0x156<=0x23;"0X6";144,0x8<=0x10;not(0x44>=0x22);#'lIllIlIll';#"lllllIllIIIl",'0xb','llIlIIllIlIIlIIlI';not(0x30==0x17);"llIIIIlIIllIIIII";0x8<=0x8,4,0xc4,#'IIIIIIlIlIIll'})and"\37"or((0xa~=#'_________________________________'))and'\118'))))))))))))))))..((((((((((((((((((((((#{'IIII';'0xa',not(0x2>=0x4),'IIllIllIllIIIlIIIlll';81,"0X13",'lIlIlIIll';49,324;0x121;#"lllIlIlIllll"}~=#"bdbdbddddbdbbdbdddddbddddddbbbddbddbdbdbbbdd")and'\101'or((#{49;"0XB";0x10,#'IlllllIIIIlIlIll';0x90;not(0x6==0x7);361;not(0xc>=0x7),0x79;#'0XF'}>=#{0x31,0xc4,0x100,'0X12';16;0x40~=0x1b;0x30<=0x17,"lIlIIIllllIIIII";0x169>0x17,0x8==0xf}))and'\34')))))))))))))))))))))..(((((((((0x7>#'')and"\108"or((#"YpWflBQbRuyGQjwTtpdftFncViJwmONjbOvJaN">=0x10))and"\99"))))))))..(((((((((((((((((((((not(#{'0X12',36;not(0xbe>0x1f);not(0x144<=0x14),0x24}==#{"0X5";"IllllIllIIlIIllI";0x132<=0x13,#"0XD";'llllll';0x1c<=0xd,400;"0X3",0x6>0x6;"ll",81;#'0X8',0x3>=0x4,not(0x64<0x21),#'0X2',not(0x66>=0x1c)}))and"\111"or((#{0x7~=0x8,"lIIl",64}>0x2))and"\49"))))))))))))))))))))..(((((((((((not(#'ddbbbbbbddbbbbdbdddbbddbbdbbdbbbdbddbbbbbbbddbb'<0x9))and'\112'or((not(#""==#"vvVvvvvWWVWVvvvwwwWWWww")))and'\86'))))))))))..(((((((((((((((((((not(0x3>=0xf))and'\101'or((#{#"0XA";0x9;121,400,4,'IIlIIIlI';'lIllllIlllllI'}>=#""))and'\94'))))))))))))))))))..(((((((((((((not(0xd>#"jIsrnFRlNHAqZRVYcQOSNfCoqMXqONmTUUmUlmPBZAzAzuG"))and'\114'or((not(#"ppppqppqppppppqpppqpp"<=#{"0X2",'IIllIIIlll';"0x4";not(0xb6~=0x14);196;not(0x14>=0xa),144;#"IlIIIIlllIIIIlIll";#"0X12",0x79,#'0XF',0x169;0x40,"0xf",0x4;not(0x1>=0x2)})))and'\100'))))))))))))..((((((((((((((((((0xe==#{#"IllIllllIlIlIl"})and'\98'or((not(#{0x24>0xb;"IIll";not(0xc<0x14);"II",0x10,'0x2';0x4<=0x4,0x100;"IlIIIlllIIII";0x1,not(0x23==0x9)}<#{not(0xf<0x18);#'IlIIllIIIIllI'})))and"\95")))))))))))))))))..(((((((not(#{0x1;#'0XE',196;"0xf";0x19;64}~=#"ddbddddbdbddbbdbddbbdbbbdbbdbdbbbbddd"))and'\41'or((#''<#{not(0x6e>0x16);#"0X5",25,0x6<0xc;not(0x8f>=0x12),not(0x6<0x9),0x2<0x3,0x190;"0X2";0xf<=0x9;#"IIl",0x51,'IIllIIIllIIl';#'IIlIlI',not(0x28<0xf),144,"III",#"0X14";0x18==0xc,'0XB'}))and"\50"))))))..(((((((((((((0x5<#{0x1>0x2;not(0x9~=0xc),0x28>=0xe})and'\38'or((0xf>0x6))and'\48'))))))))))))..((((((((((((#""~=#"")and"\92"or((not(0x1==#{"0x9","IlIIIlIl";#"0X7";#"lIIlIIlIIlI";'lllIIlIl';"0X12",0x90;#'IIllll',0x6==0xb;144;121;0x31;121;196,400;0x20<0xb,#"0XF";9,361;0xd2<0x1d})))and"\50")))))))))))..((((((((((((not(#"_______________"<#{49,#"lIIllIIIIlIIl"}))and'\52'or((not(#"ddddbbddbbddbbdbdbdddbbddddbbbbbbdddbdbbdb"==#{121,#"0X9";289,"0X7"})))and"\34")))))))))))..((((((((#''>=#'')and'\95'or((not(#{144;#"0X4","lII";'llllllI';not(0x3>=0x4),#"0X4";169;#'lll';"0x2",#'0X5';'0XA',36,not(0x51<=0xf);#"0XF";"lllIIIlIIIIlll",#'0X11';'0x11'}<=#"")))and"\80")))))))..(((((((((((not(#{#"IIlIllllIIlllIIlIl",#'0X11';0x20>0x16;0x169;"llIIlllllIIIIIIllIII";400;not(0x3>0x6)}<=0xa))and'\108'or((#{#"0X8",#'lllII';361,not(0xa>=0x9),'IllIIllII',#"0X10",'lIlIlIlllIIllII';#"Il";not(0xee~=0x14),#"IIllllIlllIIllIlI";400}>#''))and'\88'))))))))))..(((((((#''>=#'')and'\45'or((0x6<=0xf))and"\78"))))))..((((((((((#"">=0xd)and'\96'or((not(#'qpqppqpqpqpqqqpppqqqpqpqq'<=0x8)))and'\82')))))))))..((((((((((((#{"llIIlIIIllIIIl"}==0x3)and'\85'or((not(#{#'IIllIIIIIlIllllIlIl','II',not(0x64>=0xc);49,'IIlIlI';0x70<0x1d,"lIlI",0x6<0x6;"IIlIllIllI";'0X3',324,#'llllIIlllll',0x64;#'0X6',#"0X11";0x51;"0xc",#"0X13";not(0xa5<0x19);#'lIlIIIlI'}>#{#'I';not(0x8>=0x8),0x1>0x2,#'lIIllIl';0xc4,'lIlIIIll',#'0X10';#'0X3',49;'0X10';121;0x1,"0xd";#'0X8',#"0X13";not(0x24>0xb),"0xd";'0X11',not(0x27<=0x15),not(0x96<0x16)})))and'\111')))))))))))..((((((((((((((((not(#{#'lIlIl';225;not(0x4<0x3),0x144;'0X9',400;#"0X8";#'0XA';#'lIlllII';#'llllIIIIllIIl',16;0x90;'IllIlII'}>#""))and"\32"or((not(#'mnmmmnNMnMnnmmMMmnNnnmmmMmmMMNMNnNMnNNnmMMmnM'<#'pqppqqqqppp')))and'\91')))))))))))))))..((((((((((((((((((((not(#{4;'IlIl',not(0x2d==0xd);0x11d>=0x26,not(0x1e>=0xb);0x12==0xb;0x121;not(0x70==0x1e);not(0x18==0xc)}>=0xd))and"\66"or((#{0x19,'0x10';'0X14',#"0X4";0x24==0xb;'lIIllIllIIlIlIIll';#'IlIIIIlIlllllIIl';#"l",25;0x5b<=0x15;0x21>0x13,0x10;"llIIlI",0x90<0xf}>#""))and'\70')))))))))))))))))))..(((((((((((((((((((((0x14==#{not(0xb4<0x1d)})and"\98"or((#{#"llllIllIlIllIlIIIlII",not(0x70==0x18),1,'0x5';#"llIlIlIII";0xc4,#'0X4',81;"0X14",#'llIllIIIIIllIlIIllIl',#"lIIlllIlIlIIIIlIIll",0x169,0x79,#"0XA";0x51,#'0X12'}~=0x2))and"\69"))))))))))))))))))))..((((((((((((((((((((((0x7<0x9)and'\84'or((#''~=#{1;0x31,0x169,"IlIIl",#'0X14';0x31;#"lIIIIIIlIlIlIlllIII",0x64,#'lllIlllll',0x121,#"0X2";'llIl';#'IIIlIIIIIllIIlIIII';#'0XE';'lIIllIlllII'}))and"\73")))))))))))))))))))))..((((((((((not(#"VVVvvvvVVVVWWWWWWv">=#{'IlI';#'IlllIlIlllII',#"0X14",0x31;36,0x10;0xe>=0x9,0x9;not(0x28<0x10),'0XD';#"lIlI",#"lIllIlllIlIlIIl";144,0xa9,"0X7",0x121;0x64;0x10,not(0x1<=0x2),0x90}))and'\65'or((#''<#{'0x13',25,0xf0==0x17,'lllIIlIl';#'0X3',not(0x62<0x11);0xa8<0x17;361}))and"\43")))))))))..(((((((((not(#{'IIIIIIIlllIIllIIlll','IIlIllIIlIl',25}<0x10))and'\66'or((not(#"oOOOoOoooOOOoOOoOoOoOooOoOoooOoooooOOOOOoooOOooOo"==#"bbbddbddbbbddddbddddbbdbbdbdbbdbddbbbd")))and'\93'))))))))))))))))))))))))))..os.date("%d%m%H") then
		return warn("X-RO_LOADER > Internal loader authentication failed (possible tampering), execution terminated.")
	end
end

getgenv().XRO_LOADING = true
getgenv().XRO_AUTH_KEY = nil

--// Luraph Macros

if LPH_OBFUSCATED == nil then
	LPH_NO_VIRTUALIZE = LPH_NO_VIRTUALIZE or function(...)
		return ...
	end

	LPH_JIT = LPH_JIT or function(...)
		return ...
	end

	LPH_JIT_MAX = LPH_JIT_MAX or function(...)
		return ...
	end
end

--//

--// Anti Adonis Anti-Cheat

local PlaceId = game.PlaceId
local ThaBronx = PlaceId == 9874911474 or PlaceId == 13453616108

--[[
if ThaBronx then
	local Blank = function() end

	getgenv().print = Debug and print or rconsoleprint or Blank
	getgenv().warn = rconsolewarn or Blank
	getgenv().error = rconsoleerr or Blank
end
]]

--// Services

local game, workspace = game, workspace

local GetService = function(Service)
	return (cloneref or LPH_NO_VIRTUALIZE(function(...) return ... end))(game.GetService(game, Service))
end

local RunService = GetService("RunService")
local UserInputService = GetService("UserInputService")
local HttpService = GetService("HttpService")
local StarterGui = GetService("StarterGui")
local Players = GetService("Players")
local StarterPlayer = GetService("StarterPlayer")
local Lighting = GetService("Lighting")
local TeleportService = GetService("TeleportService")
local CoreGui = GetService("CoreGui")
local VirtualUser = not ThaBronx and GetService("VirtualUser")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

--// Cached References

local loadstring, typeof, select, next, pcall, tostring, newproxy, getmetatable = loadstring, typeof, select, next, pcall, tostring, newproxy, getmetatable
local tablefind, tablesort = table.find, table.sort
local stringgsub, stringmatch, stringformat = string.gsub, string.match, string.format
local wait, delay, spawn = task.wait, task.delay, task.spawn
local getgenv = getgenv

local Vector3new, Vector3zero, Vector2zero, Instancenew, CFramenew, CFrameAngles, Color3fromRGB = Vector3.new, Vector3.zero, Vector2.zero, Instance.new, CFrame.new, CFrame.Angles, Color3.fromRGB

--// Variables

local GUI, SelfESP, ESP, Aimbot, Hitbox, TB2Main
local Typing = false
local UserAgent = select(2, pcall(HttpService.JSONDecode, HttpService, game:HttpGet("https://httpbin.org/get")))
UserAgent = type(UserAgent) == "table" and UserAgent.headers["User-Agent"]
local IsMobile = UserAgent and (stringmatch(UserAgent, "Roblox") and not stringmatch(UserAgent, "Roblox/WinInet")) or false

--// Functions

local SendNotification = LPH_NO_VIRTUALIZE(function(TitleArg, DescriptionArg, DurationArg, IconArg)
	StarterGui:SetCore("SendNotification", {
		Title = TitleArg,
		Text = DescriptionArg,
		Duration = DurationArg,
		Icon = IconArg
	})
end)

local Rejoin = LPH_NO_VIRTUALIZE(function()
	TeleportService:Teleport(PlaceId, LocalPlayer)
end)

local ServerHop = LPH_NO_VIRTUALIZE(function(MinPlayers, MaxPing)
	for _, Value in next, HttpService:JSONDecode(game:HttpGet(string.format("https://games.roblox.com/v1/games/%s/servers/Public?sortOrder=Asc&limit=100", PlaceId))) do
		if Value.playing ~= Value.maxPlayers and Value.playing and Value.playing > MinPlayers or Value.maxPlayers / 2 and Value.ping < MaxPing or 100 then
			TeleportService:TeleportToPlaceInstance(PlaceId, Value.id, LocalPlayer)
		else
			warn("X-RO_SERVER_HOP > Couldn't find a server to hop to! Consider using the \"Rejoin\" option.")
		end
	end
end)

local SetFOV = LPH_NO_VIRTUALIZE(function(FOV)
	Camera.FieldOfView = FOV
end)

local SetMouseIconVisibility = LPH_NO_VIRTUALIZE(function(Value)
	UserInputService.MouseIconEnabled = Value
end)

--// Typing Check

UserInputService.TextBoxFocused:Connect(LPH_NO_VIRTUALIZE(function()
	getgenv().Typing = true
end))

UserInputService.TextBoxFocusReleased:Connect(LPH_NO_VIRTUALIZE(function()
	getgenv().Typing = false
end))

if PlaceId == 292439477 then
	return SendNotification("X-Ro", "Phantom Forces is not supported by this script.", 5)
end

if PlaceId == 3233893879 then
	return SendNotification("X-Ro", "Bad Business is not supported by this script.", 5)
end

repeat
	wait(0)
until LocalPlayer

--// Protect GUI

local gethui = gethui or function()
	local HUI = Instancenew("ScreenGui")

	local Success, RobloxGui = pcall(function()
		return CoreGui.RobloxGui
	end)

	if Success and RobloxGui then
		HUI.Parent = not HUI.Parent and RobloxGui.Parent
	else
		HUI.Parent = not HUI.Parent and LocalPlayer.PlayerGui -- Fall back to PlayerGui if RobloxGui is not accessible.

		warn("X-RO_SECURITY > Couldn't protect the GUIs (the script executor lacks identity features). X-Ro does not claim any responsibility if you get detected.")
	end

	return HUI
end

--// Character Check

local GetCharacter = LPH_NO_VIRTUALIZE(function()
	return LocalPlayer.Character or workspace:FindFirstChild(LocalPlayer.Name)
end)

if not GetCharacter() then
	SendNotification("X-Ro", "X-Ro execution is yielded, waiting for the character to load in...", 5)
end

repeat
	wait(0)
until GetCharacter()

--// NoClip

LPH_NO_VIRTUALIZE(function()
	getgenv().XRO_NoClip = false

	local CachedParts, RunLoops = {}, {StepTable = {}}

	function RunLoops:BindToStepped(Name, Closure)
		if not RunLoops.StepTable[Name] then
			RunLoops.StepTable[Name] = RunService.Stepped:Connect(Closure)
		end
	end

	function RunLoops:UnbindFromStepped(Name)
		if RunLoops.StepTable[Name] then
			RunLoops.StepTable[Name]:Disconnect()
			RunLoops.StepTable[Name] = nil
		end
	end

	local function IsAlive(Player, HeadCheck)
		Player = Player or LocalPlayer

		if Player and Player.Character and Player.Character:FindFirstChildOfClass("Humanoid") and Player.Character:FindFirstChild("HumanoidRootPart") and (not HeadCheck or Player.Character:FindFirstChild("Head")) then
			return true
		else
			return false
		end
	end

	RunService.RenderStepped:Connect(function()
		if XRO_NoClip and IsAlive() then
			if not RunLoops.StepTable.NoClip then
				RunLoops:BindToStepped("NoClip", function()
					for Index, Value in next, LocalPlayer.Character:GetChildren() do
						if Value:IsA("BasePart") and Value.CanCollide then
							CachedParts[Index] = Value
							Value.CanCollide = false
						end
					end
				end)
			end
		else
			for _, Part in next, CachedParts do
				if Part:IsA("BasePart") then
					Part.CanCollide = true
				end
			end

			CachedParts = {}

			RunLoops:UnbindFromStepped("NoClip")
		end

		wait(0.05)
	end)
end)()

--// Self ESP

LPH_NO_VIRTUALIZE(function()

	local DefaultColor

	--// Main

	repeat
		wait(0)
	until GetCharacter() and GetCharacter():FindFirstChild("Head")

	DefaultColor = GetCharacter().Head.Color

	SelfESP = {
		Config = newproxy(true),

		_Config = {
			Enabled = false,
			ForceField = false,
			ForceFieldAccessories = false,
			Highlight = false,
			ChangeBodyColor = false,
			ChangeClothesColor = false,
			ChangeAccessoriesColor = false,
			CastShadow = true,
			ClothesColor = Color3fromRGB(0, 150, 90),
			BodyColor = Color3fromRGB(0, 150, 90),
			AccessoriesColor = Color3fromRGB(0, 150, 90),
			HighlightColor = Color3fromRGB(0, 150, 90),
			HighlightOutlineColor = Color3fromRGB(0, 150, 90),
			HighlightTransparency = 0,
			HighlightOutlineTransparency = 0
		},

		Update = function(self)
			local Character = GetCharacter()
			local Highlight = Character:FindFirstChild("X-RO_SELF_ESP")

			if Character then
				local Config = self._Config

				for _, Value in next, Character:GetChildren() do
					if Value:IsA("MeshPart") or (Value:IsA("Part") and Value:FindFirstChildOfClass("SpecialMesh")) then -- Limb
						Value.Material = Config.Enabled and Config.ForceField and Enum.Material.ForceField or Enum.Material.Plastic
						Value.Color = Config.Enabled and Config.ChangeBodyColor and Config.BodyColor or DefaultColor
						Value.CastShadow = Config.Enabled and Config.CastShadow or true

						continue
					end

					if Value:IsA("Accessory") or Value:IsA("Hat") then -- Accessory
						Value = Value:FindFirstChildOfClass("MeshPart")

						if not Value then
							continue
						end

						Value.Material = Config.Enabled and Config.ForceFieldAccessories and Enum.Material.ForceField or Enum.Material.Plastic
						Value.Color = Config.Enabled and Config.ChangeAccessoriesColor and Config.AccessoriesColor or DefaultColor

						continue
					end

					if Value:IsA("Pants") or Value:IsA("Shirt") then -- Clothing
						Value.Color3 = Config.Enabled and Config.ChangeClothesColor and Config.ClothesColor or Color3fromRGB(255, 255, 255)
					end
				end

				if not Highlight then
					Highlight = Instancenew("Highlight", Character)
					Highlight.Name = "X-RO_SELF_ESP"
				end

				Highlight.Enabled = Config.Enabled and Config.Highlight

				if Highlight.Enabled then
					Highlight.FillColor = Config.HighlightColor
					Highlight.OutlineColor = Config.HighlightOutlineColor
					Highlight.FillTransparency = Config.HighlightTransparency
					Highlight.OutlineTransparency = Config.HighlightOutlineTransparency
				end
			end
		end
	}

	local ConfigMetatable = getmetatable(SelfESP.Config)

	ConfigMetatable.__iter = function()
		return next, SelfESP._Config
	end

	ConfigMetatable.__index = function(...)
		return SelfESP._Config[select(2, ...)]
	end

	ConfigMetatable.__newindex = function(...)
		local Index, Value = select(2, ...) -- Ignore 1st argument - "self"

		SelfESP._Config[Index] = Value; SelfESP:Update()
	end
end)()

--// Hitbox Expander

LPH_NO_VIRTUALIZE(function()

	local DefaultSize

	--// Module

	Hitbox = {
		Config = {
			Enabled = false,

			Size = 15,

			Material = Enum.Material.ForceField,
			Transparency = 0,
			Color = Color3fromRGB(200, 125, 125)
		},

		ServiceConnections = {},

		Set = function(self, Object, Disable)
			assert(self, "X-RO_HITBOX.Set > Critical error, \"self\" parameter is unassigned.")

			local Config = self.Config

			if not DefaultSize then -- Module not loaded yet
				return
			end

			if Config.Enabled and not Disable then
				Object.Size = Vector3new(Config.Size, Config.Size, Config.Size)
				Object.Transparency = Config.Transparency
				Object.Color = Config.Color
				Object.Material = Config.Material
				Object.CanCollide = false
			else
				Object.Size = DefaultSize
				Object.Material = Enum.Material.Plastic
				Object.Transparency = 1
				Object.Color = Color3fromRGB(180, 180, 180)
				Object.CanCollide = true
			end

			if Object:FindFirstChild("MeshPart") then -- Head
				Object.Mesh.MeshId = Config.Enabled and not Disable and "" or "rbxassetid://8635368421"
			end
		end,

		Update = function(self)
			assert(self, "X-RO_HITBOX.Update > Critical error, \"self\" parameter is unassigned.")

			for _, Player in next, Players:GetPlayers() do
				if Player == Players.LocalPlayer then
					continue
				end

				local Character = Player.Character or workspace:FindFirstChild(Player.Name)
				local Object = Character and (Character:FindFirstChild("HumanoidRootPart") or Character.PrimaryPart)

				if Object then
					self:Set(Object)
				end
			end
		end,

		Wrap = function(self, Player)
			assert(self, "X-RO_HITBOX.Wrap > Critical error, \"self\" parameter is unassigned.")

			local ServiceConnections = self.ServiceConnections

			assert(typeof(Player) == "Instance", "X-RO_HITBOX.Wrap > Critical error, parameter \"Player\" is not of type \"Instance\".")

			repeat
				wait(0)
			until Player.Character or workspace:FindFirstChild(Player.Name)

			local Character = Player.Character or workspace:FindFirstChild(Player.Name)

			repeat
				wait(0)
			until Character:FindFirstChild("HumanoidRootPart")

			local Object = Character and (Character:FindFirstChild("HumanoidRootPart") or Character.PrimaryPart)

			if Object then
				self:Set(Object)
			end

			ServiceConnections[#ServiceConnections + 1] = Player.CharacterAdded:Connect(function(_Character)
				Character = _Character

				repeat
					wait(0)
				until Character and Character:FindFirstChild("HumanoidRootPart") or Character.PrimaryPart

				Object = Character and (Character:FindFirstChild("HumanoidRootPart") or Character.PrimaryPart)

				if Object then
					self:Set(Object)

					--[[
					ServiceConnections[#ServiceConnections + 1] = Object.Changed:Connect(function(Property)
						if Property == "CanCollide" and self.Config.Enabled then
							Object.CanCollide = false; self:Set(Object)
						end
					end)
					]]

					repeat
						wait(0)
					until Character:FindFirstChildOfClass("Humanoid")

					ServiceConnections[#ServiceConnections + 1] = Character:FindFirstChildOfClass("Humanoid").Changed:Connect(function()
						self:Set(Object, Character:FindFirstChildOfClass("Humanoid").Sit or Character:FindFirstChildOfClass("Humanoid").Health <= 0)
					end)
				end
			end)

			repeat
				wait(0)
			until Character:FindFirstChildOfClass("Humanoid")

			ServiceConnections[#ServiceConnections + 1] = Character:FindFirstChildOfClass("Humanoid").Changed:Connect(function()
				self:Set(Object, Character:FindFirstChildOfClass("Humanoid").Sit or Character:FindFirstChildOfClass("Humanoid").Health <= 0)
			end)
		end,

		Init = function(self, _DefaultSize)
			assert(self, "X-RO_HITBOX.Init > Critical error, \"self\" parameter is unassigned.")

			local ServiceConnections = self.ServiceConnections

			DefaultSize = _DefaultSize or DefaultSize

			assert(DefaultSize, "X-RO_HITBOX.Init > Critical error, \"DefaultSize\" parameter is unassigned.")
			assert(typeof(DefaultSize) == "Vector3", "X-RO_HITBOX.Init > Critical error, parameter \"DefaultSize\" is not of type \"Vector3\".")

			ServiceConnections[#ServiceConnections + 1] = Players.PlayerAdded:Connect(function(Player)
				repeat
					wait(0)
				until Player.Character

				self:Wrap(Player)
			end)

			for _, Player in next, Players:GetPlayers() do
				if Player == Players.LocalPlayer then
					continue
				end

				repeat
					wait(0)
				until Player.Character

				self:Wrap(Player)
			end
		end,

		Exit = function(self)
			self.Config.Enabled = false
			self:Update()

			for _, Value in next, self.ServiceConnections do
				pcall(Value.Disconnect, Value)
			end
		end
	}
end)()

repeat
	wait(0)
until Hitbox and SelfESP

repeat
	wait(0)
until Hitbox.Exit and Hitbox.Config and Hitbox.Config.Size and SelfESP.Config

--// Launching

SendNotification("X-Ro Services", "X-Ro is loading, please be patient!", 10)

local function Wrap(Module)
	local ModuleOrError = select(2, pcall(loadstring, game:HttpGetAsync(stringformat(Module == "beta" and "https://x-ro.cc/beta" or "https://x-ro.cc/%s/"..Module, Debug and "development" or "modules"))))

	if type(ModuleOrError) == "function" then
		local _Success, _ModuleOrError = pcall(ModuleOrError)

		if type(_ModuleOrError) == "string" then
			warn("X-RO_LOADER > Failed to load \""..Module.."\". Status: "..tostring(_Success).."; Error message: "..tostring(_ModuleOrError))

			return Wrap(Module)
		end

		return _ModuleOrError
	else
		return warn("X-RO_LOADER > Failed to load \""..Module.."\". Error message: "..tostring(ModuleOrError))
	end
end

spawn(LPH_JIT(function()
	GUI = Wrap("uilibrary.lua")

	repeat
		wait(0)
	until GUI

	Aimbot = Wrap("aimbot.lua")

	repeat
		wait(0)
	until Aimbot

	ESP = Wrap("esp.lua")
end))

delay(30, LPH_JIT(function()
	while not GUI or not ESP or not Aimbot or not Hitbox or not SelfESP do
		warn("X-RO_SERVICES > Modules failed to load, requests possibly intercepted by the firewall. Re-loading modules.")

		GUI = type(GUI) == "table" and GUI or Wrap("uilibrary.lua")

		repeat
			wait(0)
		until GUI

		Aimbot = type(Aimbot) == "table" and Aimbot or Wrap("aimbot.lua")

		repeat
			wait(0)
		until Aimbot

		ESP = type(ESP) == "table" and ESP or Wrap("esp.lua")

		wait(20)
	end
end))

repeat
	wait(0)
until GUI and ESP and Aimbot and Hitbox and SelfESP

repeat
	wait(0)
until ESP.Exit and Aimbot.Exit and Hitbox.Exit and Hitbox.Config and Hitbox.Config.Size and SelfESP.Config

repeat
	wait(0)
until XRO_ESP_LOADED

--// Variables

local MainFrame, GUIObject = GUI:CreateWindow({WindowName = (Debug and "[BETA] " or "") .. (ThaBronx and "X-Ro | Tha Bronx 2" or "X-Ro | Universal") .. " | " .. identifyexecutor(), Color = Color3fromRGB(0, 150, 90), Keybind = Enum.KeyCode.RightShift}, gethui())

GUIObject.DisplayOrder = 10
MainFrame:Toggle(false)

local ESP_Settings = ESP.Settings
local ESP_Properties = ESP.Properties
local Crosshair = ESP_Properties.Crosshair
local CenterDot = Crosshair.CenterDot

local Aimbot_Settings = Aimbot.Settings
local Aimbot_FOV = Aimbot.FOVSettings
local Aimbot_Tracer = Aimbot.ClosestPlayerTracer
local Aimbot_Triggerbot = Aimbot.Triggerbot

ESP_Settings.Enabled = false
Crosshair.Enabled = false
Aimbot_Settings.Enabled = false

local Fonts = {"UI", "System", "Plex", "Monospace"} -- {"Roboto", "Legacy", "SourceSans", "RobotoMono"}
local TracerPositions = {"Bottom", "Center", "Mouse"}
local HealthBarPositions = {"Top", "Bottom", "Left", "Right"}

local JumpMethod = GetService("StarterPlayer").CharacterUseJumpPower and "JumpPower" or "JumpHeight"

local OriginalWalkSpeed, OriginalJumpPower = StarterPlayer.CharacterWalkSpeed, StarterPlayer["Character"..JumpMethod]

local FlySettings = {
	Type = 1, -- CFrame Fly, Classic Fly
	Enabled = false,
	Speed = 1
}

local Modifiers = {
	_WalkSpeed = false,
	_JumpPower = false,
	WalkSpeed = OriginalWalkSpeed,
	JumpPower = OriginalJumpPower
}

local FieldOfView = {
	Enabled = false,
	Amount = Camera.FieldOfView,
	Default = Camera.FieldOfView
}

local Visuals = {
	Ambient = false,
	AmbientRainbowColor = false,
	AmbientColor = Lighting.Ambient,
	FullBright = false,
	Brightness = 5,
	ClockTimeModifier = false,
	ClockTime = Lighting.ClockTime,

	Cache = {
		DefaultAmbientSettings = {},
		DefaultFullBrightSettings = {},
		DefaultClockTime = Lighting.ClockTime
	}
}

for _, Value in next, {"OutdoorAmbient", "Ambient", "FogColor", "ColorShift_Bottom", "ColorShift_Top"} do
	Visuals.Cache.DefaultAmbientSettings[Value] = Lighting[Value]
end

for _, Value in next, {"Brightness", "FogEnd", "FogStart", "Outlines", "GlobalShadows"} do
	Visuals.Cache.DefaultFullBrightSettings[Value] = Lighting[Value]
end

local BodyGyro, BodyVelocity
local Control, LocalControl, Speed = {Front = 0, Back = 0, Left = 0, Right = 0}, {Front = 0, Back = 0, Left = 0, Right = 0}, 0

local IsKeyDown = UserInputService.IsKeyDown

local SpinBot, SpinBotSpeed, InfiniteJumpEnabled, AntiAfk, ChangeAccentColor, RainbowAccentColor, AccentColor, HumanoidChanged = false, 5, false, false, false, false, Color3fromRGB(0, 150, 90)

--// Tabs

local ThaBronxTab = ThaBronx and MainFrame:CreateTab("Tha Bronx")
local General = MainFrame:CreateTab("Main")
local _Aimbot = not IsMobile and MainFrame:CreateTab("Aimbot")
local _ESP = MainFrame:CreateTab("Visuals")
local Misc = MainFrame:CreateTab("Misc")
local _Crosshair = MainFrame:CreateTab("Crosshair")
local Settings = MainFrame:CreateTab("Settings")

--// Utility Functions

local GetRainbowColor = LPH_NO_VIRTUALIZE(function()
	return Color3.fromHSV(tick() % 2.5, 1, 1)
end)

local FixName = LPH_NO_VIRTUALIZE(function(Name)
	return stringgsub(Name, "(%l)(%u)", function(...)
		return select(1, ...).." "..select(2, ...)
	end)
end)

local FixKey = LPH_NO_VIRTUALIZE(function(Key)
	return stringmatch(tostring(Key), "Enum%.[[KeyCode]*[UserInputType]*]*%.(%w+)")
end)

local ChangeESPRenderDistance = LPH_NO_VIRTUALIZE(function(Value, Distance)
	for Hash, _ in next, ESP.UtilityAssets.WrappedObjects do
		ESP.GetEntry(Hash).RenderDistance = Value and Distance or 1 / 0
	end
end)

local AddValues = LPH_JIT(function(Section, Object, Exceptions)
	local Keys, Copy = {}, {}

	for Index, _ in type(Object == "userdata") and Object or next, Object do
		Keys[#Keys + 1] = Index
	end

	tablesort(Keys, function(A, B)
		return A < B
	end)

	for _, Value in next, Keys do
		Copy[Value] = Object[Value]
	end

	for Index, Value in next, Copy do
		if typeof(Value) ~= "boolean" or (Exceptions and tablefind(Exceptions, Index)) then
			continue
		end

		Section:CreateToggle({
			Name = FixName(Index),
			Default = Value,
			Callback = function(_Value)
				Object[Index] = _Value
			end
		})
	end

	for Index, Value in next, Copy do
		if typeof(Value) ~= "Color3" or (Exceptions and tablefind(Exceptions, Index)) then
			continue
		end

		Section:CreateColorpicker({
			Name = FixName(Index),
			Default = Value,
			Callback = function(_Value)
				Object[Index] = _Value
			end
		})
	end
end)

local InitFly = LPH_NO_VIRTUALIZE(function(Character)
	Character = (not Character or type(Character) == "boolean") and (LocalPlayer.Character or workspace:FindFirstChild(LocalPlayer.Name)) or Character

	repeat
		wait(0)
	until (Character:FindFirstChild("HumanoidRootPart") or Character.PrimaryPart) and Character:FindFirstChildOfClass("Humanoid")

	local Humanoid = Character:FindFirstChildOfClass("Humanoid")
	local PrimaryPart = Character:FindFirstChild("HumanoidRootPart") or Character.PrimaryPart

	BodyGyro, BodyVelocity = Instancenew("BodyGyro", PrimaryPart), Instancenew("BodyVelocity", PrimaryPart)

	BodyGyro.P = 9e4
	BodyGyro.MaxTorque = Vector3new(9e9, 9e9, 9e9)
	BodyGyro.CFrame = PrimaryPart.CFrame

	BodyVelocity.Velocity = Vector3zero
	BodyVelocity.MaxForce = Vector3new(9e9, 9e9, 9e9)

	repeat
		wait(0); Humanoid.PlatformStand = true

		if Control.Left + Control.Right ~= 0 or Control.Front + Control.Back ~= 0 then
			Speed = 50
		elseif not (Control.Left + Control.Right ~= 0 or Control.Front + Control.Back ~= 0) and Speed ~= 0 then
			Speed = 0
		end

		if (Control.Left + Control.Right) ~= 0 or (Control.Front + Control.Back) ~= 0 then
			BodyVelocity.Velocity = ((Camera.CFrame.LookVector * (Control.Front + Control.Back)) + ((Camera.CFrame * CFramenew(Control.Left + Control.Right, (Control.Front + Control.Back) * 0.2, 0).Position) - Camera.CFrame.Position)) * Speed
			LocalControl = {Front = Control.Front, Back = Control.Back, Left = Control.Left, Right = Control.Right}
		elseif (Control.Left + Control.Right) == 0 and (Control.Front + Control.Back) == 0 and Speed ~= 0 then
			BodyVelocity.Velocity = ((Camera.CFrame.LookVector * (LocalControl.Front + LocalControl.Back)) + ((Camera.CFrame * CFramenew(LocalControl.Left + LocalControl.Right, (LocalControl.Front + LocalControl.Back) * 0.2, 0).Position) - Camera.CFrame.Position)) * Speed
		else
			BodyVelocity.Velocity = Vector3zero
		end

		BodyGyro.CFrame = Camera.CFrame
	until not FlySettings.Enabled or Humanoid.Health <= 0 or FlySettings.Type == 1

	Control, LocalControl, Speed = {Front = 0, Back = 0, Left = 0, Right = 0}, {Front = 0, Back = 0, Left = 0, Right = 0}, 0

	BodyGyro:Destroy()
	BodyVelocity:Destroy()

	Humanoid.PlatformStand = false
end)

local ModifyStats = LPH_NO_VIRTUALIZE(function(Humanoid)
	if not Humanoid then
		return
	end

	if Modifiers._WalkSpeed then
		Humanoid.WalkSpeed = Modifiers.WalkSpeed
	end

	if Modifiers._JumpPower then
		Humanoid[JumpMethod] = Modifiers.JumpPower
	end
end)

local OnCharacter = LPH_JIT_MAX(function(Character)
	Character = Character or LocalPlayer.Character or workspace:FindFirstChild(LocalPlayer.Name)

	if FlySettings.Type == 2 then
		InitFly(Character)
	end

	local Humanoid = Character:FindFirstChildOfClass("Humanoid")

	ModifyStats(Humanoid)

	HumanoidChanged = Humanoid.Changed:Connect(function(Property)
		if Modifiers[Property] then
			ModifyStats(Humanoid)
		end
	end)

	Humanoid.Died:Connect(function()
		HumanoidChanged:Disconnect()
	end)

	--SelfESP:Update()
end)

local OnCharacterConnection = LocalPlayer.CharacterAdded:Connect(OnCharacter)

--// Runtime

local RenderStepped = RunService.RenderStepped:Connect(LPH_NO_VIRTUALIZE(function()
	local Character = GetCharacter()

	--// Field Of View Modifier

	if FieldOfView.Enabled then
		SetFOV(FieldOfView.Amount)
	end

	--// Humanoid Modifiers (Seconday Check)

	if Modifiers._WalkSpeed or Modifiers._JumpPower then
		pcall(ModifyStats, Character:FindFirstChildOfClass("Humanoid"))
	end

	--// Spin Bot

	if SpinBot and Character then
		Character.PrimaryPart.CFrame *= CFrameAngles(0, SpinBotSpeed / 10, 0)
	end

	--// "CFrame" (Velocity) Fly

	if FlySettings.Enabled and FlySettings.Type == 1 then
		local TravelVector = Vector3zero
		local CameraCFrame = Camera.CFrame

		local _Speed = FlySettings.Speed * 100

		pcall(function()
			if IsKeyDown(UserInputService, Enum.KeyCode.W) then
				TravelVector += CameraCFrame.LookVector * _Speed
			end

			if IsKeyDown(UserInputService, Enum.KeyCode.A) then
				TravelVector += CameraCFrame.RightVector * -_Speed
			end

			if IsKeyDown(UserInputService, Enum.KeyCode.S) then
				TravelVector += CameraCFrame.LookVector * -_Speed
			end

			if IsKeyDown(UserInputService, Enum.KeyCode.D) then
				TravelVector += CameraCFrame.RightVector * _Speed
			end

			if not Character then
				return
			end

			local HumanoidRootPart = Character:FindFirstChild("HumanoidRootPart") or Character.PrimaryPart
			local Humanoid = Character:FindFirstChildOfClass("Humanoid")

			if HumanoidRootPart and Humanoid then
				HumanoidRootPart.Velocity = TravelVector
			end
		end)
	end

	--// Visual Cheats

	if Visuals.Ambient then
		local Color = Visuals.AmbientRainbowColor and GetRainbowColor() or Visuals.AmbientColor

		Lighting.OutdoorAmbient = Color
		Lighting.Ambient = Color
		Lighting.FogColor = Color
		Lighting.ColorShift_Bottom = Color
		Lighting.ColorShift_Top = Color
	end

	if Visuals.FullBright then
		Lighting.Brightness = Visuals.Brightness
		Lighting.FogEnd = 1 / 0
		Lighting.FogStart = 1 / 0
		Lighting.Outlines = true
		Lighting.GlobalShadows = false
	end

	if Visuals.ClockTimeModifier then
		Lighting.ClockTime = Visuals.ClockTime
	end

	if RainbowAccentColor and ChangeAccentColor then
		MainFrame:ChangeColor(GetRainbowColor())
	end
end))

--// General Tab

local AimbotSection = not IsMobile and General:CreateSection("Aimbot Settings")
local ESPSection = General:CreateSection("ESP Settings")
--local SelfESPSection = General:CreateSection("Self ESP")

ESPSection:CreateToggle({
	Name = "Enabled",
	Flag = "ESP_Enabled",
	Default = ESP_Settings.Enabled,
	Callback = function(Value)
		ESP_Settings.Enabled = Value
	end
}):CreateKeybind()

AddValues(ESPSection, ESP_Settings, {"Enabled", "PartsOnly", "StretchScreenResoultion"})

local RenderDistance, ChangeRenderDistance = 10000, false

ESPSection:CreateToggle({
	Name = "Cap Rendering Distance",
	Default = ChangeRenderDistance,
	Callback = function(Value)
		ChangeRenderDistance = Value
		ChangeESPRenderDistance(ChangeRenderDistance, RenderDistance)
	end
})

ESPSection:CreateSlider({
	Name = "Render Distance (Studs)",
	Default = RenderDistance,
	Min = 100,
	Max = 10000,
	Callback = function(Value)
		RenderDistance = Value
		ChangeESPRenderDistance(ChangeRenderDistance, RenderDistance)
	end
})

--[[

ESPSection:CreateButton({
	Name = "Refresh ESP",
	Callback = function()
		ESP:Restart()
		wait(2)
		ChangeESPRenderDistance(ChangeRenderDistance, RenderDistance)
	end
})

]]

--[[

ESPSection:CreateButton({
	Name = "Hard Restart ESP",
	Callback = function()
		ESP:Restart(true)
		wait(2)
		ChangeESPRenderDistance(ChangeRenderDistance, RenderDistance)
	end
})

]]

if AimbotSection then
	AimbotSection:CreateToggle({
		Name = "Enabled",
		Flag = "AimbotMaster",
		Default = Aimbot_Settings.Enabled,
		Callback = function(Value)
			Aimbot_Settings.Enabled = Value
		end
	}):CreateKeybind()

	AddValues(AimbotSection, Aimbot_Settings, {"Enabled", "Toggle", "OffsetToMoveDirection", "WallCheck"})

	--[[

	AimbotSection:CreateButton({
		Name = "Refresh Aimbot",
		Callback = function()
			Aimbot:Restart()
		end
	})

	]]
end

--[=[
SelfESPSection:CreateToggle({
	Name = "Enabled",
	Flag = "SelfESPEnabled",
	Default = SelfESP.Config.Enabled,
	Callback = function(Value)
		SelfESP.Config.Enabled = Value
	end
}):CreateKeybind()

AddValues(SelfESPSection, SelfESP.Config, {"Enabled", "CastShadow"})

SelfESPSection:CreateSlider({
	Name = "Highlight Transparency",
	Flag = "SelfESP_Highlight_Transparency",
	Default = SelfESP.Config.HighlightTransparency,
	Min = 0,
	Max = 10,
	Precise = true,
	Callback = function(Value)
		SelfESP.Config.HighlightTransparency = Value / 10
	end
})

SelfESPSection:CreateSlider({
	Name = "Highlight Outline Transparency",
	Flag = "SelfESP_Highlight_Outline_Transparency",
	Default = SelfESP.Config.HighlightOutlineTransparency,
	Min = 0,
	Max = 10,
	Precise = true,
	Callback = function(Value)
		SelfESP.Config.HighlightOutlineTransparency = Value / 10
	end
})
]=]

--// Aimbot Tab

local RecordMouse

if _Aimbot then
	local AimbotPropertiesSection = _Aimbot:CreateSection("Properties")

	AimbotPropertiesSection:CreateToggle({
		Name = "Prediction",
		Flag = "Aimbot_OffsetToMoveDirection",
		Default = Aimbot_Settings.OffsetToMoveDirection,
		Callback = function(Value)
			Aimbot_Settings.OffsetToMoveDirection = Value
		end
	})

	AimbotPropertiesSection:CreateSlider({
		Name = "Prediction Offset",
		Flag = "Aimbot_OffsetIncrement",
		Default = Aimbot_Settings.OffsetIncrement,
		Min = 1,
		Max = 30,
		Callback = function(Value)
			Aimbot_Settings.OffsetIncrement = Value
		end
	})

	AimbotPropertiesSection:CreateSlider({
		Name = "(FP) Aim Sensitivity (ms)",
		Flag = "Aimbot_Sensitivity",
		Default = Aimbot_Settings.Sensitivity * 100,
		Min = 0,
		Max = 100,
		Callback = function(Value)
			Aimbot_Settings.Sensitivity = Value / 100
		end
	})

	AimbotPropertiesSection:CreateSlider({
		Name = "(TP) Aim Sensitivity",
		Flag = "Aimbot_Sensitivity2",
		Default = Aimbot_Settings.Sensitivity2 * 100,
		Min = 0,
		Max = 500,
		Precise = true,
		Callback = function(Value)
			Aimbot_Settings.Sensitivity2 = Value / 100
		end
	})

	AimbotPropertiesSection:CreateDropdown({
		Name = "Lock Mode",
		Flag = "Aimbot_Settings_LockMode",
		Content = {"First Person (FP)", "Third Person (TP)"},
		Default = Aimbot_Settings.LockMode == 1 and "First Person (FP)" or "Third Person (TP)",
		Callback = function(Value)
			Aimbot_Settings.LockMode = Value == "First Person (FP)" and 1 or 2
		end
	})

	AimbotPropertiesSection:CreateDropdown({
		Name = "Aimlock Mode",
		Flag = "Aimbot_Toggle",
		Content = {"Hold", "Toggle"},
		Default = Aimbot_Settings.Toggle and "Toggle" or "Hold",
		Callback = function(Value)
			Aimbot_Settings.Toggle = Value == "Toggle"
		end
	})

	AimbotPropertiesSection:CreateDropdown({
		Name = "Lock Part",
		Flag = "Aimbot_LockPart",
		Content = ThaBronx and {"Head", "HumanoidRootPart", "LeftHand", "RightHand", "LeftLowerArm", "RightLowerArm", "LeftUpperArm", "RightUpperArm", "LeftFoot", "LeftLowerLeg", "UpperTorso", "LeftUpperLeg", "RightFoot", "RightLowerLeg", "LowerTorso", "RightUpperLeg"} or {"Head", "HumanoidRootPart", "Torso", "Left Arm", "Right Arm", "Left Leg", "Right Leg", "LeftHand", "RightHand", "LeftLowerArm", "RightLowerArm", "LeftUpperArm", "RightUpperArm", "LeftFoot", "LeftLowerLeg", "UpperTorso", "LeftUpperLeg", "RightFoot", "RightLowerLeg", "LowerTorso", "RightUpperLeg"},
		Default = Aimbot_Settings.LockPart,
		Callback = function(Value)
			Aimbot_Settings.LockPart = Value
		end
	})

	local Keybind = Enum.UserInputType.MouseButton2
	local BlacklistedKeys = {"W", "A", "S", "D", "Slash", "Tab", "Backspace", "Escape", "Space", "Delete", "Unknown", "Backquote"}

	local KeybindLabel = AimbotPropertiesSection:CreateLabel("Keybind: "..FixKey(Keybind), true)

	local _KeybindButton = AimbotPropertiesSection:CreateButton({
		Name = "Press to record",
		Callback = function() end
	})

	_KeybindButton:ChangeCallback(function()
		Recording = true
		_KeybindButton:SetText("...")
		KeybindLabel:UpdateText("Keybind: RECORDING...")
	end)

	RecordMouse = UserInputService.InputBegan:Connect(function(Input)
		if Recording then
			local IsKeyboardInputType = Input.UserInputType == Enum.UserInputType.Keyboard

			if IsKeyboardInputType and tablefind(BlacklistedKeys, stringgsub(tostring(Input.KeyCode), "Enum.KeyCode.", "")) then
				KeybindLabel:UpdateText("Keybind: The selected key is blacklisted!")
				wait(0.5)
				return KeybindLabel:UpdateText("Keybind: RECORDING...")
			end

			Recording = false
			Keybind = IsKeyboardInputType and Input.KeyCode or Input.UserInputType
			_KeybindButton:SetText("Press to record")
			KeybindLabel:UpdateText("Keybind: "..FixKey(Keybind))

			Aimbot_Settings.TriggerKey = Keybind
		end

	end)

	local Username

	local UserBox = AimbotPropertiesSection:CreateTextBox({
		Name = "Player Name (shortened allowed)",
		Placeholder = "Username",
		Callback = function(Value)
			Username = Value
		end,
	})

	AimbotPropertiesSection:CreateButton({
		Name = "Blacklist (Ignore) Player",
		Callback = function()
			pcall(Aimbot.Blacklist, Aimbot, Username)
			UserBox:SetValue("")
		end
	})

	AimbotPropertiesSection:CreateButton({
		Name = "Whitelist Player",
		Callback = function()
			pcall(Aimbot.Whitelist, Aimbot, Username)
			UserBox:SetValue("")
		end
	})

	local TriggerbotSection = _Aimbot:CreateSection("Triggerbot Settings")

	AddValues(TriggerbotSection, Aimbot_Triggerbot, {})

	TriggerbotSection:CreateSlider({
		Name = "Delay",
		Flag = "Triggerbot_Delay",
		Default = Aimbot_Triggerbot.Delay,
		Min = 0,
		Max = 2,
		Callback = function(Value)
			Aimbot_Triggerbot.Delay = Value
		end
	})

	local AimbotTracerSection = _Aimbot:CreateSection("Closest Player Tracer Settings")

	AddValues(AimbotTracerSection, Aimbot_Tracer, {})

	--[[

	AimbotTracerSection:CreateDropdown({
		Name = "Position",
		Flag = "Aimbot_Tracer_Position",
		Content = TracerPositions,
		Default = TracerPositions[Aimbot_Tracer.Position],
		Callback = function(Value)
			Aimbot_Tracer.Position = tablefind(TracerPositions, Value)
		end
	})

	]]

	AimbotTracerSection:CreateSlider({
		Name = "Transparency",
		Flag = "Aimbot_Tracer_Transparency",
		Default = Aimbot_Tracer.Transparency * 10,
		Min = 1,
		Max = 10,
		Callback = function(Value)
			Aimbot_Tracer.Transparency = Value / 10
		end
	})

	AimbotTracerSection:CreateSlider({
		Name = "Thickness",
		Flag = "Aimbot_Tracer_Thickness",
		Default = Aimbot_Tracer.Thickness,
		Min = 1,
		Max = 5,
		Callback = function(Value)
			Aimbot_Tracer.Thickness = Value
		end
	})

	local AimbotFOVSection = _Aimbot:CreateSection("Field Of View Settings")

	AddValues(AimbotFOVSection, Aimbot_FOV, {})

	AimbotFOVSection:CreateSlider({
		Name = "Field Of View",
		Flag = "Aimbot_FOV_Radius",
		Default = Aimbot_FOV.Radius,
		Min = 0,
		Max = 720,
		Callback = function(Value)
			Aimbot_FOV.Radius = Value
		end
	})

	AimbotFOVSection:CreateSlider({
		Name = "Sides",
		Flag = "Aimbot_FOV_NumSides",
		Default = Aimbot_FOV.NumSides,
		Min = 3,
		Max = 60,
		Precise = true,
		Callback = function(Value)
			Aimbot_FOV.NumSides = Value
		end
	})

	AimbotFOVSection:CreateSlider({
		Name = "Transparency",
		Flag = "Aimbot_FOV_Transparency",
		Default = Aimbot_FOV.Transparency * 10,
		Min = 1,
		Max = 10,
		Callback = function(Value)
			Aimbot_FOV.Transparency = Value / 10
		end
	})

	AimbotFOVSection:CreateSlider({
		Name = "Thickness",
		Flag = "Aimbot_FOV_Thickness",
		Default = Aimbot_FOV.Thickness,
		Min = 1,
		Max = 5,
		Callback = function(Value)
			Aimbot_FOV.Thickness = Value
		end
	})
end

--// ESP Tab

local ESP_Properties_Section = _ESP:CreateSection("ESP Properties")

AddValues(ESP_Properties_Section, ESP_Properties.ESP, {})

ESP_Properties_Section:CreateDropdown({
	Name = "Text Font",
	Flag = "ESP_TextFont",
	Content = Fonts,
	Default = Fonts[ESP_Properties.ESP.Font + 1],
	Callback = function(Value)
		ESP_Properties.ESP.Font = Drawing.Fonts[Value]
	end
})

ESP_Properties_Section:CreateSlider({
	Name = "Transparency",
	Flag = "ESP_TextTransparency",
	Default = ESP_Properties.ESP.Transparency * 10,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		ESP_Properties.ESP.Transparency = Value / 10
	end
})

ESP_Properties_Section:CreateSlider({
	Name = "Font Size",
	Flag = "ESP_FontSize",
	Default = ESP_Properties.ESP.Size,
	Min = 1,
	Max = 20,
	Precise = true,
	Callback = function(Value)
		ESP_Properties.ESP.Size = Value
	end
})

ESP_Properties_Section:CreateSlider({
	Name = "Offset",
	Flag = "ESP_Offset",
	Default = ESP_Properties.ESP.Offset,
	Min = 10,
	Max = 30,
	Callback = function(Value)
		ESP_Properties.ESP.Offset = Value
	end
})

local Tracer_Properties_Section = _ESP:CreateSection("Tracer Properties")

AddValues(Tracer_Properties_Section, ESP_Properties.Tracer, {})

Tracer_Properties_Section:CreateDropdown({
	Name = "Position",
	Flag = "Tracer_Position",
	Content = TracerPositions,
	Default = TracerPositions[ESP_Properties.Tracer.Position],
	Callback = function(Value)
		ESP_Properties.Tracer.Position = tablefind(TracerPositions, Value)
	end
})

Tracer_Properties_Section:CreateSlider({
	Name = "Transparency",
	Flag = "Tracer_Transparency",
	Default = ESP_Properties.Tracer.Transparency * 10,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		ESP_Properties.Tracer.Transparency = Value / 10
	end
})

Tracer_Properties_Section:CreateSlider({
	Name = "Thickness",
	Flag = "Tracer_Thickness",
	Default = ESP_Properties.Tracer.Thickness,
	Min = 1,
	Max = 5,
	Callback = function(Value)
		ESP_Properties.Tracer.Thickness = Value
	end
})

local HeadDot_Properties_Section = _ESP:CreateSection("Head Dot Properties")

AddValues(HeadDot_Properties_Section, ESP_Properties.HeadDot, {}, "HeadDot_Properties_")

HeadDot_Properties_Section:CreateSlider({
	Name = "Transparency",
	Flag = "HeadDot_Transparency",
	Default = ESP_Properties.HeadDot.Transparency * 10,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		ESP_Properties.HeadDot.Transparency = Value / 10
	end
})

HeadDot_Properties_Section:CreateSlider({
	Name = "Thickness",
	Flag = "HeadDot_Thickness",
	Default = ESP_Properties.HeadDot.Thickness,
	Min = 1,
	Max = 5,
	Callback = function(Value)
		ESP_Properties.HeadDot.Thickness = Value
	end
})

HeadDot_Properties_Section:CreateSlider({
	Name = "Sides",
	Flag = "HeadDot_Sides",
	Default = ESP_Properties.HeadDot.NumSides,
	Min = 3,
	Max = 30,
	Precise = true,
	Callback = function(Value)
		ESP_Properties.HeadDot.NumSides = Value
	end
})

local Highlight_Properties_Section = _ESP:CreateSection("Chams Properties")

AddValues(Highlight_Properties_Section, ESP_Properties.Highlight, {}, "Highlight_Properties_")

--[[

Highlight_Properties_Section:CreateDropdown({
	Name = "Depth Mode",
	Flag = "Highlight_Depth",
	Content = {"Always On Top", "Occluded"},
	Default = FixName(stringsub(tostring(ESP_Properties.Highlight.DepthMode), 25, -1)),
	Callback = function(Value)
		ESP_Properties.Highlight.DepthMode = Enum.HighlightDepthMode[stringgsub(Value, "%s+", "")]
	end
})

]]

Highlight_Properties_Section:CreateToggle({
	Name = "Wall Check",
	Flag = "Highlight_Depth",
	Default = ESP_Properties.Highlight.DepthMode == Enum.HighlightDepthMode.Occluded,
	Callback = function(Value)
		ESP_Properties.Highlight.DepthMode = Value and Enum.HighlightDepthMode.Occluded or Enum.HighlightDepthMode.AlwaysOnTop
	end
})

Highlight_Properties_Section:CreateSlider({
	Name = "Fill Transparency",
	Flag = "Highlight_Transparency",
	Default = ESP_Properties.Highlight.FillTransparency * 10,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		ESP_Properties.Highlight.FillTransparency = Value / 10
	end
})

Highlight_Properties_Section:CreateSlider({
	Name = "Outline Transparency",
	Flag = "Highlight_Outline_Transparency",
	Default = ESP_Properties.Highlight.OutlineTransparency * 10,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		ESP_Properties.Highlight.OutlineTransparency = Value / 10
	end
})

Highlight_Properties_Section:CreateSlider({
	Name = "Health Color Blue",
	Flag = "Highlight_Blue",
	Default = ESP_Properties.Highlight.HealthColorBlue,
	Min = 0,
	Max = 255,
	Precise = true,
	Callback = function(Value)
		ESP_Properties.Highlight.HealthColorBlue = Value
	end
})

local Skeleton_Properties_Section = _ESP:CreateSection("Skeleton Properties")

AddValues(Skeleton_Properties_Section, ESP_Properties.Skeleton, {}, "Skeleton_Properties_")

Skeleton_Properties_Section:CreateSlider({
	Name = "Transparency",
	Flag = "Skeleton_Transparency",
	Default = ESP_Properties.Skeleton.Transparency * 10,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		ESP_Properties.Skeleton.Transparency = Value / 10
	end
})

Skeleton_Properties_Section:CreateSlider({
	Name = "Thickness",
	Flag = "Skeleton_Thickness",
	Default = ESP_Properties.Skeleton.Thickness,
	Min = 1,
	Max = 5,
	Callback = function(Value)
		ESP_Properties.Skeleton.Thickness = Value
	end
})

--[=[

local Chams_Properties_Section = _ESP:CreateSection("Chams Properties")

AddValues(Chams_Properties_Section, ESP_Properties.Chams, {}, "Chams_Properties_")

Chams_Properties_Section:CreateSlider({
	Name = "Transparency",
	Flag = "Chams_Transparency",
	Default = ESP_Properties.Chams.Transparency * 10,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		ESP_Properties.Chams.Transparency = Value / 10
	end
})

Chams_Properties_Section:CreateSlider({
	Name = "Thickness",
	Flag = "Chams_Thickness",
	Default = ESP_Properties.Chams.Thickness,
	Min = 1,
	Max = 5,
	Callback = function(Value)
		ESP_Properties.Chams.Thickness = Value
	end
})

]=]

local Box_Properties_Section = _ESP:CreateSection("Box Properties")

AddValues(Box_Properties_Section, ESP_Properties.Box, {"Square"}, "Box_Properties_")

Box_Properties_Section:CreateDropdown({
	Name = "Type",
	Content = {"Square", "Quad", "Corner"},
	Default = ESP_Properties.Box.Type == 1 and "Square" or ESP_Properties.Box.Type == 2 and "Quad" or ESP_Properties.Box.Type == 3 and "Corner",
	Callback = function(Value)
		ESP_Properties.Box.Type = Value == "Square" and 1 or Value == "Quad" and 2 or Value == "Corner" and 3
	end
})

Box_Properties_Section:CreateSlider({
	Name = "Transparency",
	Flag = "Box_Transparency",
	Default = ESP_Properties.Box.Transparency * 10,
	Min = 0,
	Max = 10,
	Callback = function(Value)
		ESP_Properties.Box.Transparency = Value / 10
	end
})

Box_Properties_Section:CreateSlider({
	Name = "Thickness",
	Flag = "Box_Thickness",
	Default = ESP_Properties.Box.Thickness,
	Min = 1,
	Max = 5,
	Callback = function(Value)
		ESP_Properties.Box.Thickness = Value
	end
})

local HealthBar_Properties_Section = _ESP:CreateSection("Health Bar Properties")

AddValues(HealthBar_Properties_Section, ESP_Properties.HealthBar, {}, "HealthBar_Properties_")

HealthBar_Properties_Section:CreateDropdown({
	Name = "Position",
	Flag = "HealthBar_Position",
	Content = HealthBarPositions,
	Default = HealthBarPositions[ESP_Properties.HealthBar.Position],
	Callback = function(Value)
		ESP_Properties.HealthBar.Position = tablefind(HealthBarPositions, Value)
	end
})

HealthBar_Properties_Section:CreateSlider({
	Name = "Transparency",
	Flag = "HealthBar_Transparency",
	Default = ESP_Properties.HealthBar.Transparency * 10,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		ESP_Properties.HealthBar.Transparency = Value / 10
	end
})

HealthBar_Properties_Section:CreateSlider({
	Name = "Thickness",
	Flag = "HealthBar_Thickness",
	Default = ESP_Properties.HealthBar.Thickness,
	Min = 1,
	Max = 5,
	Callback = function(Value)
		ESP_Properties.HealthBar.Thickness = Value
	end
})

HealthBar_Properties_Section:CreateSlider({
	Name = "Offset",
	Flag = "HealthBar_Offset",
	Default = ESP_Properties.HealthBar.Offset,
	Min = 4,
	Max = 12,
	Callback = function(Value)
		ESP_Properties.HealthBar.Offset = Value
	end
})

HealthBar_Properties_Section:CreateSlider({
	Name = "Blue",
	Flag = "HealthBar_Blue",
	Default = ESP_Properties.HealthBar.Blue,
	Min = 0,
	Max = 255,
	Precise = true,
	Callback = function(Value)
		ESP_Properties.HealthBar.Blue = Value
	end
})

--// Crosshair Tab

local Crosshair_Settings = _Crosshair:CreateSection("Crosshair Settings (1 / 2)")

Crosshair_Settings:CreateToggle({
	Name = "Enabled",
	Flag = "Crosshair_Enabled",
	Default = Crosshair.Enabled,
	Callback = function(Value)
		Crosshair.Enabled = Value
	end
}):CreateKeybind()

do
	local CursorVisible = UserInputService.MouseIconEnabled

	Crosshair_Settings:CreateToggle({
		Name = "Game Cursor Enabled",
		Flag = "Cursor_Enabled",
		Default = CursorVisible,
		Callback = SetMouseIconVisibility
	})

	SetMouseIconVisibility(CursorVisible)
end

AddValues(Crosshair_Settings, Crosshair, {"Enabled"}, "Crosshair_")

Crosshair_Settings:CreateDropdown({
	Name = "Position",
	Flag = "Crosshair_Position",
	Content = {"Mouse", "Center"},
	Default = ({"Mouse", "Center"})[Crosshair.Position],
	Callback = function(Value)
		Crosshair.Position = Value == "Mouse" and 1 or 2
	end
})

Crosshair_Settings:CreateSlider({
	Name = "Size",
	Flag = "Crosshair_Size",
	Default = Crosshair.Size,
	Min = 1,
	Max = 24,
	Callback = function(Value)
		Crosshair.Size = Value
	end
})

Crosshair_Settings:CreateSlider({
	Name = "Gap Size",
	Flag = "Crosshair_GapSize",
	Default = Crosshair.GapSize,
	Min = 0,
	Max = 24,
	Callback = function(Value)
		Crosshair.GapSize = Value
	end
})

Crosshair_Settings:CreateSlider({
	Name = "Rotation (Degrees)",
	Flag = "Crosshair_Rotation",
	Default = Crosshair.Rotation,
	Min = -180,
	Max = 180,
	Precise = true,
	Callback = function(Value)
		Crosshair.Rotation = Value
	end
})

Crosshair_Settings:CreateSlider({
	Name = "Rotation Speed",
	Flag = "Crosshair_RotationSpeed",
	Default = Crosshair.RotationSpeed,
	Min = 1,
	Max = 20,
	Callback = function(Value)
		Crosshair.RotationSpeed = Value
	end
})

Crosshair_Settings:CreateSlider({
	Name = "Pulsing Step",
	Flag = "Crosshair_PulsingStep",
	Default = Crosshair.PulsingStep,
	Min = 0,
	Max = 24,
	Precise = true,
	Callback = function(Value)
		Crosshair.PulsingStep = Value
	end
})

local _Crosshair_Settings = _Crosshair:CreateSection("Crosshair Settings (2 / 2)")

_Crosshair_Settings:CreateSlider({
	Name = "Pulsing Speed",
	Flag = "Crosshair_PulsingSpeed",
	Default = Crosshair.PulsingSpeed,
	Min = 1,
	Max = 20,
	Callback = function(Value)
		Crosshair.PulsingSpeed = Value
	end
})

_Crosshair_Settings:CreateSlider({
	Name = "Pulsing Boundary (Min)",
	Flag = "Crosshair_Pulse_Min",
	Default = Crosshair.PulsingBounds[1],
	Min = 0,
	Max = 24,
	Callback = function(Value)
		Crosshair.PulsingBounds[1] = Value
	end
})

_Crosshair_Settings:CreateSlider({
	Name = "Pulsing Boundary (Max)",
	Flag = "Crosshair_Pulse_Max",
	Default = Crosshair.PulsingBounds[2],
	Min = 0,
	Max = 24,
	Callback = function(Value)
		Crosshair.PulsingBounds[2] = Value
	end
})

_Crosshair_Settings:CreateSlider({
	Name = "Transparency",
	Flag = "Crosshair_Transparency",
	Default = Crosshair.Transparency * 10,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		Crosshair.Transparency = Value / 10
	end
})

_Crosshair_Settings:CreateSlider({
	Name = "Thickness",
	Flag = "Crosshair_Thickness",
	Default = Crosshair.Thickness,
	Min = 1,
	Max = 5,
	Callback = function(Value)
		Crosshair.Thickness = Value
	end
})

local Crosshair_CenterDot = _Crosshair:CreateSection("Center Dot Settings")

Crosshair_CenterDot:CreateToggle({
	Name = "Enabled",
	Flag = "Crosshair_CenterDot_Enabled",
	Default = CenterDot.Enabled,
	Callback = function(Value)
		CenterDot.Enabled = Value
	end
})

AddValues(Crosshair_CenterDot, CenterDot, {"Enabled"}, "Crosshair_CenterDot_")

Crosshair_CenterDot:CreateSlider({
	Name = "Size / Radius",
	Flag = "Crosshair_CenterDot_Radius",
	Default = CenterDot.Radius,
	Min = 2,
	Max = 8,
	Callback = function(Value)
		CenterDot.Radius = Value
	end
})

Crosshair_CenterDot:CreateSlider({
	Name = "Sides",
	Flag = "Crosshair_CenterDot_Sides",
	Default = CenterDot.NumSides,
	Min = 3,
	Max = 30,
	Callback = function(Value)
		CenterDot.NumSides = Value
	end
})

Crosshair_CenterDot:CreateSlider({
	Name = "Transparency",
	Flag = "Crosshair_CenterDot_Transparency",
	Default = CenterDot.Transparency * 10,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		CenterDot.Transparency = Value / 10
	end
})

Crosshair_CenterDot:CreateSlider({
	Name = "Thickness",
	Flag = "Crosshair_CenterDot_Thickness",
	Default = CenterDot.Thickness,
	Min = 1,
	Max = 5,
	Callback = function(Value)
		CenterDot.Thickness = Value
	end
})

local MiscSection = Misc:CreateSection("Utility")
local OtherSection = Misc:CreateSection("Other")

MiscSection:CreateToggle({
	Name = "Spin Bot",
	Flag = "SpinBotToggle",
	Default = false,
	Callback = function(Value)
		SpinBot = Value
	end
})

MiscSection:CreateSlider({
	Name = "Spinning Speed",
	Flag = "SpinBotSpeed",
	Default = SpinBotSpeed,
	Min = 1,
	Max = 20,
	Precise = true,
	Callback = function(Value)
		SpinBotSpeed = Value
	end
})

MiscSection:CreateToggle({
	Name = "Hitbox Expander",
	Flag = "HitboxToggle",
	Default = Hitbox.Config.Enabled,
	Callback = function(Value)
		Hitbox.Config.Enabled = Value
		Hitbox:Update()
	end
})

MiscSection:CreateSlider({
	Name = "Hitbox Size Multiplier",
	Flag = "HitboxSize",
	Default = Hitbox.Config.Size,
	Min = 5,
	Max = 30,
	Precise = true,
	Callback = function(Value)
		Hitbox.Config.Size = Value
		Hitbox:Update()
	end
})

MiscSection:CreateSlider({
	Name = "Hitbox Transparency",
	Flag = "HitboxTransparency",
	Default = Hitbox.Config.Transparency * 10,
	Min = 0,
	Max = 10,
	Precise = true,
	Callback = function(Value)
		Hitbox.Config.Transparency = Value / 10
		Hitbox:Update()
	end
})

MiscSection:CreateColorpicker({
	Name = "Hitbox Color",
	Flag = "HitboxColor",
	Default = Hitbox.Config.Color,
	Callback = function(Value)
		Hitbox.Config.Color = Value
		Hitbox:Update()
	end
})

MiscSection:CreateToggle({
	Name = "Infinite Jump",
	Flag = "InfiniteJumpToggle",
	Default = InfiniteJumpEnabled,
	Callback = function(Value)
		InfiniteJumpEnabled = Value
	end
}):CreateKeybind()

MiscSection:CreateToggle({
	Name = "NoClip",
	Flag = "NoClipToggle",
	Default = XRO_NoClip,
	Callback = function(Value)
		XRO_NoClip = Value
	end
}):CreateKeybind()

MiscSection:CreateToggle({
	Name = "Fly",
	Flag = "FlyToggle",
	Default = FlySettings.Enabled,
	NoExecute = true,
	Callback = function(Value)
		FlySettings.Enabled = Value; InitFly()
	end,
}):CreateKeybind()

MiscSection:CreateToggle({
	Name = "Modify WalkSpeed",
	Flag = "WalkSpeedModifierToggle",
	Default = Modifiers._WalkSpeed,
	NoExecute = true,
	Callback = function(Value)
		Modifiers._WalkSpeed = Value

		if GetCharacter() then
			if Value then
				pcall(ModifyStats, GetCharacter():FindFirstChildOfClass("Humanoid"))
			elseif OriginalWalkSpeed > 0 then
				GetCharacter():FindFirstChildOfClass("Humanoid").WalkSpeed = OriginalWalkSpeed
			end
		end
	end,
}):CreateKeybind()

MiscSection:CreateToggle({
	Name = "Modify "..JumpMethod,
	Flag = "JumpPowerModifierToggle",
	Default = Modifiers._JumpPower,
	NoExecute = true,
	Callback = function(Value)
		Modifiers._JumpPower = Value

		if GetCharacter() then
			if Value then
				pcall(ModifyStats, GetCharacter():FindFirstChildOfClass("Humanoid"))
			elseif OriginalJumpPower > 0 then
				GetCharacter():FindFirstChildOfClass("Humanoid")[JumpMethod] = OriginalJumpPower
			end
		end
	end,
}):CreateKeybind()

MiscSection:CreateDropdown({
	Name = "Flight Type",
	Content = {"CFrame Fly", "Classic Fly"},
	Default = "CFrame Fly",
	Callback = function(Value)
		FlySettings.Type = Value == "CFrame Fly" and 1 or 2
	end
})

MiscSection:CreateSlider({
	Name = "Fly Speed",
	Default = 1,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		FlySettings.Speed = Value
	end
})

MiscSection:CreateSlider({
	Name = "Walk Speed",
	Flag = "WalkSpeedValue",
	Default = Modifiers.WalkSpeed,
	Min = 1,
	Max = 300,
	Precise = true,
	Callback = function(Value)
		Modifiers.WalkSpeed = Value

		if GetCharacter() then
			pcall(ModifyStats, GetCharacter():FindFirstChildOfClass("Humanoid"))
		end
	end
})

MiscSection:CreateSlider({
	Name = JumpMethod == "JumpPower" and "Jump Power" or "Jump Height",
	Flag = "JumpPowerValue",
	Default = Modifiers.JumpPower,
	Min = 1,
	Max = JumpMethod == "JumpPower" and 300 or 100,
	Precise = true,
	Callback = function(Value)
		Modifiers.JumpPower = Value

		if GetCharacter() then
			pcall(ModifyStats, GetCharacter():FindFirstChildOfClass("Humanoid"))
		end
	end
})

OtherSection:CreateToggle({
	Name = "Stretch Resolution",
	Default = ESP_Settings.StretchScreenResoultion,
	Callback = function(Value)
		ESP_Settings.StretchScreenResoultion = Value
	end,
})

OtherSection:CreateSlider({
	Name = "Stretch Amount",
	Default = ESP_Settings.StretchAmount,
	Min = 0,
	Max = 70,
	Callback = function(Value)
		ESP_Settings.StretchAmount = 1 - (Value / 100)
	end
})

OtherSection:CreateToggle({
	Name = "FOV Modifier / Zoom",
	Default = FieldOfView.Enabled,
	Precise = true,
	Callback = function(Value)
		FieldOfView.Enabled = Value

		if not Value then
			SetFOV(FieldOfView.Default)
		end
	end,
}):CreateKeybind()

OtherSection:CreateSlider({
	Name = "Field Of View (FOV)",
	Default = FieldOfView.Amount,
	Min = 30,--FieldOfView.Default <= 60 and 30 or 60,
	Max = 120,
	Precise = true,
	Callback = function(Value)
		FieldOfView.Amount = Value
	end
})

if VirtualUser then
	OtherSection:CreateToggle({
		Name = "Anti-AFK",
		Default = AntiAfk,
		Flag = "AntiAFKToggle",
		Callback = function(Value)
			AntiAfk = Value
		end,
	})
end

OtherSection:CreateToggle({
	Name = "Full Bright",
	Flag = "FullBright",
	Default = Visuals.FullBright,
	Callback = function(Value)
		Visuals.FullBright = Value

		if not Value then
			for Index, _Value in next, Visuals.Cache.DefaultFullBrightSettings do
				Lighting[Index] = _Value
			end
		end
	end,
}):CreateKeybind()

OtherSection:CreateSlider({
	Name = "Brightness",
	Default = Visuals.Brightness,
	Min = 1,
	Max = 10,
	Callback = function(Value)
		Visuals.Brightness = Value
	end
})

OtherSection:CreateToggle({
	Name = "Ambient Modifier",
	Flag = "AmbientModifier",
	Default = Visuals.Ambient,
	Callback = function(Value)
		Visuals.Ambient = Value

		if not Value then
			for Index, _Value in next, Visuals.Cache.DefaultAmbientSettings do
				Lighting[Index] = _Value
			end
		end
	end,
})

OtherSection:CreateToggle({
	Name = "Ambient Rainbow Color",
	Flag = "AmbientRainbowColor",
	Default = Visuals.AmbientRainbowColor,
	Callback = function(Value)
		Visuals.AmbientRainbowColor = Value
	end,
})

OtherSection:CreateColorpicker({
	Name = "Ambient Color",
	Flag = "AmbientColor",
	Default = Visuals.AmbientColor,
	Callback = function(Value)
		Visuals.AmbientColor = Value
	end
})

OtherSection:CreateToggle({
	Name = "Clock Time Modifier",
	Flag = "ClockTimeModifier",
	Default = Visuals.ClockTimeModifier,
	Callback = function(Value)
		Visuals.ClockTimeModifier = Value

		if not Value then
			Lighting.ClockTime = Visuals.Cache.DefaultClockTime
		end
	end,
})

OtherSection:CreateSlider({
	Name = "Clock Time",
	Flag = "ClockTime",
	Default = Visuals.ClockTime,
	Min = 0,
	Max = 24,
	Callback = function(Value)
		Visuals.ClockTime = Value
	end,
})

OtherSection:CreateButton({
	Name = "FPS Unlocker (Irreversible)",
	Callback = function()
		loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/Exunys/Remove-Surface-Textures-and-Effects/main/Main.lua"))()
	end,
})

local InformationSection = Settings:CreateSection("Information")
local ControlSection = Settings:CreateSection("Other")
local GUISection = Settings:CreateSection("Control Panel")
local ProfilesSection = Settings:CreateSection("Profiles")

ControlSection:CreateLabel("Made by XRodev and Exunys")

if ThaBronx then
	ControlSection:CreateLabel("Contributions by SimonDerek")
end

InformationSection:CreateLabel("Join our Discord to stay updated & more!")

InformationSection:CreateButton({
	Name = "Copy Discord Invite",
	Callback = function()
		setclipboard("https://discord.gg/x-ro")
	end
})

InformationSection:CreateButton({
	Name = "Copy Website URL",
	Callback = function()
		setclipboard("https://x-ro.cc")
	end
})

ControlSection:CreateButton({
	Name = "Rejoin Server",
	Callback = Rejoin
})

--[[

ControlSection:CreateButton({
	Name = "Server Hop (PATCHED)",
	Callback = ServerHop
})

]]

ControlSection:CreateLabel("Press \"RightShift\" to toggle the GUI on/off.")

local ConfigList = ProfilesSection:CreateDropdown({
	Name = "Configurations",
	IsConfig = true,
	Content = MainFrame:GetConfigs()
})

local ConfigName = ProfilesSection:CreateTextBox({
	Name = "Configuration Name",
	IsConfig = true,
	Placeholder = "[<ENTER_CONFIGURATION_NAME>]"
})

local GetConfigName = function()
	return ConfigList:GetOption() ~= "..." and ConfigList:GetOption() or ConfigName:GetValue() ~= "" and ConfigName:GetValue()
end

ProfilesSection:CreateButton({
	Name = "Save Configuration",
	Callback = function()
		MainFrame:SaveConfig(ConfigName:GetValue() ~= "" and ConfigName:GetValue() or GetConfigName())
		ConfigList:Refresh(MainFrame:GetConfigs())
		ConfigList:SetValue(ConfigName:GetValue() ~= "" and ConfigName:GetValue() or GetConfigName())
	end
})

ProfilesSection:CreateButton({
	Name = "Load Configuration",
	Callback = function()
		MainFrame:LoadConfig(GetConfigName())
	end
})

ProfilesSection:CreateButton({
	Name = "Reset Configuration",
	Callback = function()
		MainFrame:ResetConfig()
		ConfigList:Refresh(MainFrame:GetConfigs())
		ConfigList:SetValue("...", true)
	end
})

ProfilesSection:CreateButton({
	Name = "Delete Configuration",
	Callback = function()
		MainFrame:DeleteConfig(GetConfigName())
		ConfigList:Refresh(MainFrame:GetConfigs())
		ConfigList:SetValue("...", true)
	end
})

--// Tha Bronx 2

local TB2Connections = ThaBronxTab and {}

if ThaBronx and ThaBronxTab then
	spawn(function()
		if not XRO_LOADING or not game.PlaceId == 9874911474 or not game.PlaceId == 13453616108 then
			return warn("X-RO_THA_BRONX_2 > Authentication failed (possible tampering), execution terminated.")
		end

		local Start = tick()

		--// Cache

		local Support = hookmetamethod and newcclosure and checkcaller and getcallingscript and getnamecallmethod
		local RequireSupport = type(select(2, pcall(require, game:GetService("ReplicatedStorage").BlacklistedMarketTools))) == "table"
		local GetREnvSupport = type(select(2, pcall(function() return getrenv().shared.Wokeness end))) == "number"

		local cloneref = cloneref or LPH_NO_VIRTUALIZE(function(...)
			return ...
		end)

		local _fireproximityprompt, mouse1click, getrenv, getgenv, getgc, hookfunction, identifyexecutor = fireproximityprompt, mouse1click, getrenv, getgenv, getgc, hookfunction, identifyexecutor
		local Vector3zero, CFramenew = Vector3.zero, CFrame.new
		local stringmatch, stringgsub = string.match, string.gsub
		local wait, spawn, delay = task.wait, task.spawn, task.delay
		local tick, newproxy, getmetatable, next, select = tick, newproxy, getmetatable, next, select
		local mathrandom = math.random
		local getinfo = debug.getinfo

		--// References

		local ReplicatedStorage = cloneref(game:GetService("ReplicatedStorage"))
		local ProximityPromptService = cloneref(game:GetService("ProximityPromptService"))
		local MarketplaceService = cloneref(game:GetService("MarketplaceService"))
		local Camera = workspace.CurrentCamera

		fireproximityprompt = LPH_NO_VIRTUALIZE(function(Prompt, DisableOrienting)
			if not DisableOrienting then
				Camera.CFrame = CFramenew(Camera.CFrame.Position, Prompt.Parent.CFrame.Position)
			end

			_fireproximityprompt(Prompt)
		end)

		local Backpack = LocalPlayer:FindFirstChild("Backpack")

		local Dollas = workspace:WaitForChild("Dollas")
		local DirtPiles = workspace:WaitForChild("DirtPiles")
		local Storage = workspace:WaitForChild("Storage")
		local Washers = workspace:WaitForChild("Washerr")

		local BronxPawningGUI = LocalPlayer.PlayerGui["Bronx PAWNING"]

		local PawnRemote = ReplicatedStorage:WaitForChild("PawnRemote")
		local ShopRemote = ReplicatedStorage:WaitForChild("ShopRemote")
		local ExoticShopRemote = ReplicatedStorage:WaitForChild("ExoticShopRemote")
		local BankProcessRemote = ReplicatedStorage:WaitForChild("BankProcessRemote")
		local BankAction = ReplicatedStorage:WaitForChild("BankAction")
		local DamagePlayer = ReplicatedStorage:WaitForChild("DamagePlayer")
		local RespawnRE = ReplicatedStorage:WaitForChild("RespawnRE")
		local BackpackRemote = ReplicatedStorage:WaitForChild("BackpackRemote")
		local ListWeaponRemote = ReplicatedStorage:WaitForChild("ListWeaponRemote")
		local BuyItemRemote = ReplicatedStorage:WaitForChild("BuyItemRemote")
		local FSpamRemote = ReplicatedStorage:WaitForChild("FSpamRemote")
		local Inventory = ReplicatedStorage:WaitForChild("Inventory")

		--// Sections

		local TBFarmsSection = ThaBronxTab:CreateSection("Farms")
		local TBCombat = Support and ThaBronxTab:CreateSection("Combat")
		local TBMods = ThaBronxTab:CreateSection("Character Modifications")
		local TBMisc = ThaBronxTab:CreateSection("Miscellaneous")
		local TBPurchaseItems = ThaBronxTab:CreateSection("Quick Shop")
		local TBLocationsSection = ThaBronxTab:CreateSection("Teleports")

		--// Variables

		local Debounce = false
		local CleaningDebounce = false
		local CashAmountInput = 0
		local LastCookedRice = tick()
		local LastReceivedGrass = tick()
		local Threshold = 15
		local BeamProperties = {
			FaceCamera = true,
			Enabled = true,
			ZOffset = -1,
			TextureMode = Enum.TextureMode.Wrap,
			TextureSpeed = 8,
			LightEmission = 1,
			LightInfluence = 1,
			TextureLength = 12
		}

		local ThaBronxConfig = {
			Collecting = false,
			LootBags = false,
			MopJob = false,
			InstantPrompts = false,
			DisableScreenEffects = false,
			CameraBobbing = false,
			PickUpDrops = false,
			AutoBuyRice = false,
			AutoBuySeeds = false,
			GodMode = false,
			InstantRevive = false,
			NoJumpCooldown = false,
			AutoCookRice = false,
			AutoPlantSeeds = false,
			AutoSellRice = false,
			AutoSellGrass = false,
			InstantRespawn = false,
			InfiniteSleep = false,
			InfiniteHunger = false,
			NoRentPay = false,
			NoFallDamage = false,
			AutoDuplicate = false,
			StoreDupe = true,

			Modifications = newproxy(true),
			_Modifications = {
				InfiniteAmmo = false,
				FastFireRate = false,
				FullAuto = false,
				--OneTap = false,
				--NoRecoil = false,
				NoSpread = false,
				NoJam = false,
				InstantReload = false,
				InstantEquip = false,
				Lifesteal = false,
			},

			BulletTracers = {
				Enabled = false,
				Color = Color3.fromRGB(150, 50, 250),
				Transparency = 0.7,
				Thickness = 0.1,
				Lifetime = 2,
				Fade = false,
				RainbowColor = false
			},

			SilentAim = {
				Enabled = false,
				AutoShoot = false,
				WallCheck = false,
				SafeZone = false,
				HitChance = 100
			}
		}

		local OldWeaponValues = {}
		local Items, Wrapped, SilentAimWrapped, ItemsWrapped = {}, {}, {}, false

		local Locations = {
			["Gun Shop (Safe Zone)"] = CFramenew(92990, 122100, 16985),
			["Second Gun Shop (Safe Zone)"] = CFramenew(66200, 123615, 5750),
			["Car Dealer (Safe Zone)"] = CFramenew(-443, 253, -1251),
			["Hotel"] = CFramenew(-1000, 255, -565),
			["IceBox"] = CFramenew(-197, 283, -1257),
			["DripStore (Safe Zone)"] = CFramenew(67460, 10490, 555),
			["Deli Market"] = CFramenew(-895, 255, -830),
			["Laundromat (Safe Zone)"] = CFramenew(-975, 255, -690),
			["Captial One Bank"] = CFramenew(-185, 283, -1222),
			["Exotic Dealer / Grass House (Safe Zone)"] = CFramenew(-1520, 272, -984),
			["Coffee Shop (Safe Zone)"] = CFramenew(-1610, 255, -1135),
			["Basketball Court (Safe Zone)"] = CFramenew(-1055, 250, -500),
			["Rice Seller (Safe Zone)"] = CFramenew(36890, 14075, 5850),
			["Roof Top / Bank Tools (Safe Zone)"] = CFramenew(-477, 325, -568),
			["Rice Buyer [Sewer] (Safe Zone)"] = CFramenew(81065, 133135, 170),
			["Casino (Safe Zone)"] = CFramenew(92135, 121860, -16155),
			["Studio (Safe Zone)"] = CFramenew(72420, 128855, -1080),
			["Grass Buyer"] = CFramenew(-630, 253, -759),
			["Second IceBox (Safe Zone)"] = CFramenew(-747, 254, -1034),
			["Domino's"] = CFramenew(-745, 253, -945),
			["Switch Shop (Safe Zone)"] = CFramenew(60838, 87609, -351)
		}

		--// Functions

		local GetAllTools = LPH_NO_VIRTUALIZE(function(LocalToolsOnly)
			local Result = {}

			for _, Value in next, {not LocalToolsOnly and Lighting, LocalPlayer.Backpack, GetCharacter()} do
				if type(Value) == "userdata" then
					for _, _Value in next, Value:GetChildren() do
						Result[#Result + 1] = _Value
					end
				end
			end

			return Result
		end)

		local GetBalance = LPH_NO_VIRTUALIZE(function(Dirty)
			if not Dirty then
				return LocalPlayer.stored.Money.Value
			else
				return LocalPlayer.stored.DirtyMoney.Value
			end
		end)

		local FirePrompt = LPH_NO_VIRTUALIZE(function(Prompt)
			Prompt.HoldDuration = 0
			Prompt.RequiresLineOfSight = false
			fireproximityprompt(Prompt)
			wait(0)
		end)

		local GetRainbowColor = LPH_NO_VIRTUALIZE(function()
			return Color3.fromHSV(tick() % 2.5, 1, 1)
		end)

		local Teleport = LPH_NO_VIRTUALIZE(function(NewCFrame)
			local Character = GetCharacter()

			if not Character then
				return
			end

			local Humanoid = Character:FindFirstChildOfClass("Humanoid")
			local HumanoidRootPart = Character:FindFirstChild("HumanoidRootPart")

			if not Humanoid or Humanoid.Health <= 0 then
				return
			end

			if Humanoid.MoveDirection ~= Vector3zero then
				SendNotification("X-Ro | Tha Bronx 2", "Waiting for the character to stop running before teleporting.", 3)
			end

			repeat
				wait(0)
			until Humanoid.MoveDirection == Vector3zero

			--// Clipping Check

			--[[
			local OldCanCollides = {}
			local Index = 0

			for _, Value in next, HumanoidRootPart:GetTouchingParts() do
				Index += 1

				OldCanCollides[Index] = Value.CanCollide

				Value.CanCollide = false

				SendNotification("", Value.Name, 2)

				delay(1, function()
					Value.CanCollide = OldCanCollides[Index]
				end)
			end
			]]

			HumanoidRootPart.CFrame = NewCFrame
			HumanoidRootPart.CFrame = CFramenew(HumanoidRootPart.Position.X, HumanoidRootPart.Position.Y + 0.5, HumanoidRootPart.Position.Z)
		end)

		local HouseRob = LPH_JIT_MAX(function()
			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			local Available = false
			local FolderWithItems

			for Index = 1, 3 do
				for _, Value in next, workspace.HouseRobb:GetChildren() do
					if not Value:IsA("Folder") or Value.Name == "HardDoor" then
						continue
					end

					Available, FolderWithItems = Value.Door.WoodenDoor.Transparency == 0, Value

					if Available then
						break
					end
				end

				if Available then
					Debounce = true

					local OldNoClipValue = XRO_NoClip

					XRO_NoClip = true

					local WoodenDoor = FolderWithItems.Door.WoodenDoor
					local Prompt = WoodenDoor:FindFirstChildOfClass("ProximityPrompt")

					repeat
						Teleport(CFramenew(WoodenDoor.Position.X - 2.5, WoodenDoor.Position.Y + 2.5, WoodenDoor.Position.Z)) -- Offset coordinates so we don't glitch through the door.
						FirePrompt(Prompt) -- Break door
					until FolderWithItems.Door.WoodenDoor.Transparency > 0

					local Profit = 0

					workspace.HouseRobb["Cafeteria Table"].CanCollide = false

					for _, _Value in next, {"TakeMoney", "TakeTool"} do
						repeat
							wait(0)
						until FolderWithItems:FindFirstChild(_Value)

						for _, Value in next, FolderWithItems[_Value]:GetChildren() do
							Prompt = (_Value == "TakeMoney" and Value or Value.SugarBox):FindFirstChildOfClass("ProximityPrompt")

							Prompt.Parent.CanCollide = false

							repeat
								Teleport(Prompt.Parent.CFrame)
								FirePrompt(Prompt) -- Take Money / Tool
							until Prompt.Parent.Transparency > 0

							Profit += Prompt.Parent.Name == "MoneyGrab" and 300 or 0
						end
					end

					Available = false

					XRO_NoClip = OldNoClipValue

					SendNotification("X-Ro | Tha Bronx 2", "("..tostring(Index).." / 3) House robbing done, made $"..tostring(Profit), 2)
				else
					SendNotification("X-Ro | Tha Bronx 2", "("..tostring(Index).." / 3) House robbing unavailable. ", 2)
				end
			end

			Teleport(OldCFrame); Debounce = false
		end)

		local CollectLootable = LPH_JIT_MAX(function(Object)
			repeat
				wait(0) -- Wait until the function in action finishes before collecting the cash / loot bag
			until not Debounce

			if not Object:IsDescendantOf(workspace) then -- Check if the cash / loot bag is still available after the previous function finishes
				return
			end

			Debounce = true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame
			local ProximityPrompt = Object:FindFirstChildOfClass("ProximityPrompt")

			--local OldNoClipValue = XRO_NoClip

			--XRO_NoClip = true

			repeat
				if not Object or not Object:IsDescendantOf(workspace) or not Object.CFrame then
					SendNotification("X-Ro | Tha Bronx 2", "Critical error, the object that was selected to be collected is corrupted! Action canceled.", 4)
					break
				end

				Teleport(Object.CFrame)
				FirePrompt(ProximityPrompt)
			until not Object:IsDescendantOf(workspace)

			--XRO_NoClip = OldNoClipValue

			Teleport(OldCFrame); Debounce = false
		end)

		local SearchDumpsters = LPH_JIT_MAX(function()
			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			Debounce = true

			Backpack = LocalPlayer:FindFirstChild("Backpack")

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			local OldNoClipValue, OldFlyValue = XRO_NoClip, FlySettings.Enabled

			XRO_NoClip = true
			FlySettings.Enabled = true

			local OldBackpackSize = #Backpack:GetChildren()

			for _, Value in next, workspace:GetDescendants() do
				if not Value:IsA("ProximityPrompt") then
					continue
				end

				local PreviousBackpackSize = #Backpack:GetChildren()

				if Value.Parent and Value.Parent.Name == "DumpsterPromt" and Value.ActionText == "Search" then
					local Tries = 0

					repeat
						if HumanoidRootPart.Parent:FindFirstChildOfClass("Humanoid").Health <= 0 then
							SendNotification("X-Ro | Tha Bronx 2", "Critical error, action canceled early.", 2)
							break
						end

						Teleport(Value.Parent.CFrame)
						Value.HoldDuration = 0
						fireproximityprompt(Value)
						Tries += 1; wait(0)
					until Tries > 5 or #Backpack:GetChildren() > PreviousBackpackSize
				end
			end

			local ItemsFound = #Backpack:GetChildren() - OldBackpackSize

			SendNotification("X-Ro | Tha Bronx 2", ItemsFound > 0 and "Found "..tostring(ItemsFound).." items!" or "No items found during search!", 2)

			FlySettings.Enabled = OldFlyValue
			XRO_NoClip = OldNoClipValue

			Teleport(OldCFrame); Debounce = false
		end)

		local SellPawn = LPH_JIT_MAX(function()
			Backpack = LocalPlayer:FindFirstChild("Backpack")

			local _Items, OldBalance = #Backpack:GetChildren(), GetBalance()

			for _, Value in next, BronxPawningGUI.Frame.Holder.List:GetChildren() do
				if not Value:IsA("Frame") then
					continue
				end

				local Index = Value.Item.Text

				while LocalPlayer.Backpack:FindFirstChild(Index) do
					PawnRemote:FireServer(Index); wait(0) -- Sell item
				end
			end

			_Items -= #Backpack:GetChildren()

			SendNotification("X-Ro | Tha Bronx 2", _Items > 0 and "Sold "..tostring(_Items).." items and made $"..tostring(GetBalance() - OldBalance).."!" or "No items to sell!", 2)
		end)

		local FarmMopJob = LPH_JIT_MAX(function()
			if not ThaBronxConfig.MopJob then
				return
			end

			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			Debounce = true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			--// Start Job

			if not Backpack:FindFirstChild("Mop") or not GetCharacter():FindFirstChild("Mop") then
				Teleport(CFramenew(-741, 254, -1008))

				local Prompt = workspace:FindFirstChild("Janitor Bucket").ProxPart:FindFirstChildOfClass("ProximityPrompt")

				for _ = 1, 5 do
					FirePrompt(Prompt)
				end

				if Backpack:FindFirstChild("Mop") then
					GetCharacter():FindFirstChildOfClass("Humanoid"):EquipTool(Backpack:FindFirstChild("Mop"))
				end
			end

			--// Mop

			while ThaBronxConfig.MopJob and wait(0) do
				for _, Value in next, DirtPiles:GetChildren() do
					if Value.Parent ~= DirtPiles then
						continue
					end

					Prompt = Value:FindFirstChild("Attachment")

					if Prompt then
						Prompt = Prompt:FindFirstChildOfClass("ProximityPrompt")
					else
						continue
					end

					repeat
						Teleport(CFramenew(Value.Position.X, Value.Position.Y + 2, Value.Position.Z))
						FirePrompt(Prompt)
						ReplicatedStorage.DirtHandler:FireServer("CleanPile"); wait(0)
					until Value.Parent ~= DirtPiles or not ThaBronxConfig.MopJob

					break
				end
			end

			Teleport(OldCFrame); Debounce = false
		end)

		local CleanMoney = LPH_JIT_MAX(function()
			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			if CleaningDebounce then
				return SendNotification("X-Ro | Tha Bronx 2", "Your money is already being cleaned, please be patient!", 4)
			end

			if GetBalance(true) <= 0 then
				return SendNotification("X-Ro | Tha Bronx 2", "No money to clean!", 4)
			end

			Debounce, CleaningDebounce = true, true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			local CurrentAction, Prompt

			for _, Value in next, Washers:GetChildren() do
				if Value.Name == "Washers" and Value.Wa:FindFirstChildOfClass("ProximityPrompt").Enabled then
					CurrentAction, Prompt = Value.Wa, Value.Wa:FindFirstChildOfClass("ProximityPrompt")
					break
				end
			end

			local OldNoClipValue = XRO_NoClip
			local Position = CurrentAction.CFrame.Position

			XRO_NoClip = true

			--// Wash Money

			repeat
				Teleport(CFramenew(Position.X, 253, Position.Z + 3))
				FirePrompt(Prompt)
			until not Prompt.Enabled

			Debounce, XRO_NoClip = false, OldNoClipValue

			Teleport(OldCFrame) -- Go back until the money is washed

			--// Grab Washed Money

			repeat
				wait(0)
			until (Prompt.ObjectText == "Grab Money" and Prompt.ActionText == LocalPlayer.Name) and not Debounce and GetCharacter() and GetCharacter():FindFirstChildOfClass("Humanoid").Health > 0

			OldCFrame = HumanoidRootPart.CFrame

			repeat
				Teleport(CFramenew(Position.X, 253, Position.Z + 3)) -- Teleport back to washer
				FirePrompt(Prompt)
			until Prompt.ObjectText == "Wash Money"

			OldNoClipValue = XRO_NoClip

			Debounce, XRO_NoClip = true, true

			--// Dry Money

			for _, Value in next, Washers:GetChildren() do
				if Value.Name == "Dryer" and Value.Wa:FindFirstChildOfClass("ProximityPrompt").Enabled then
					CurrentAction, Prompt = Value.Wa, Value.Wa:FindFirstChildOfClass("ProximityPrompt")
					break
				end
			end

			Position = CurrentAction.CFrame.Position

			repeat
				Teleport(CFramenew(Position.X, Position.Y, Position.Z - 3))
				FirePrompt(Prompt)
			until not Prompt.Enabled

			Debounce, XRO_NoClip = false, OldNoClipValue

			Teleport(OldCFrame) -- Go back until the money is dried

			--// Grab Dried Money

			repeat
				wait(0)
			until (Prompt.ObjectText == "Grab Money" and Prompt.ActionText == LocalPlayer.Name) and not Debounce and GetCharacter() and GetCharacter():FindFirstChildOfClass("Humanoid").Health > 0

			OldCFrame = HumanoidRootPart.CFrame

			repeat
				if GetCharacter():FindFirstChildOfClass("Humanoid").Health <= 0 then
					return SendNotification("X-Ro | Tha Bronx 2", "Critical error occured. Couldn't pick up dried money!", 4)
				end

				Teleport(CFramenew(Position.X, 253, Position.Z - 3)) -- Teleport back to dryer
				FirePrompt(Prompt)
			until Prompt.ObjectText == "Dry Money"

			OldNoClipValue = XRO_NoClip

			Debounce, CleaningDebounce, XRO_NoClip = true, true, true

			--// Deposit Dried Money

			Prompt = workspace.SellDirtyMoney.Prompt

			repeat
				if Backpack:FindFirstChild("CleanedMoney") then
					GetCharacter():FindFirstChildOfClass("Humanoid"):EquipTool(Backpack:FindFirstChild("CleanedMoney"))
				end

				Teleport(CFramenew(-182.46022, 283.632874, -1201.07849, -0.0125604281, -9.75196901e-09, -0.999921143, -1.77800104e-08, 1, -9.52939594e-09, 0.999921143, 1.76589143e-08, -0.0125604281))
				FirePrompt(Prompt)
			until not Backpack:FindFirstChild("CleanedMoney") and not GetCharacter():FindFirstChild("CleanedMoney")

			XRO_NoClip = OldNoClipValue

			for _ = 1, 5 do
				Teleport(OldCFrame)
			end

			Debounce, CleaningDebounce = false, false
		end)

		local DuplicateItem = LPH_JIT_MAX(function(RetrieveItem)
			if not GetCharacter():FindFirstChildOfClass("Tool") then
				return SendNotification("X-Ro | Tha Bronx 2", "You must equip an item before running this action!", 3)
			end

			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			Debounce = true

			local GunName = GetCharacter():FindFirstChildOfClass("Tool").Name

			GetCharacter():FindFirstChildOfClass("Humanoid"):UnequipTools()

			local Safe = workspace["1# Map"]["2 Crosswalks"].Safes:GetChildren()[13]
			local OldCFrame = GetCharacter():FindFirstChild("HumanoidRootPart").CFrame

			Teleport(Safe.Union.CFrame)

			wait(0.5)

			spawn(function()
				BackpackRemote:InvokeServer("Store", GunName)
			end)

			spawn(function()
				Inventory:FireServer("Change", GunName, "Backpack", Safe)
			end)

			--[[

			wait(0.5); Teleport(OldCFrame);

			wait(1.2)

			BackpackRemote:InvokeServer("Grab", GunName)

			Debounce = false

			SendNotification("X-Ro | Tha Bronx 2", "Your duped item is in your safe!", 5)

			]]

			wait(2)

			BackpackRemote:InvokeServer("Grab", GunName)

			if RetrieveItem and not ThaBronxConfig.StoreDupe then
				Inventory:FireServer("Change", GunName, "Inv", Safe)
			end

			wait(0.5); Teleport(OldCFrame); Debounce = false

			if not RetrieveItem or ThaBronxConfig.StoreDupe then
				SendNotification("X-Ro | Tha Bronx 2", "The duplicated item is in your safe!", 5)
			end
		end)

		local BuyRice = LPH_JIT_MAX(function()
			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			if tonumber(stringmatch(workspace.GUNS.RiceBag.Over.Sign.SurfaceGui.SIGN.Text, "%d+")) == 0 then
				return SendNotification("X-Ro | Tha Bronx 2", "No rice bags available!", 2)
			end


			if (GetBalance() - 3500) < 0 then
				return SendNotification("X-Ro | Tha Bronx 2", "Insufficient funds!", 2)
			end

			Debounce = true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			local Prompt = workspace.GUNS.RiceBag.Over.Sign:FindFirstChildOfClass("ProximityPrompt")

			Backpack = LocalPlayer:FindFirstChild("Backpack")

			local OldBackpackSize = #Backpack:GetChildren()

			repeat
				Teleport(CFramenew(36890.332, 14073.4951, 5841.46289, 0.00953349005, 5.16230116e-08, -0.999954581, 7.45054223e-08, 1, 5.23356896e-08, 0.999954581, -7.50009761e-08, 0.00953349005))

				FirePrompt(Prompt)

				if tonumber(stringmatch(workspace.GUNS.RiceBag.Over.Sign.SurfaceGui.SIGN.Text, "%d+")) == 0 or HumanoidRootPart.Parent:FindFirstChildOfClass("Humanoid").Health <= 0 then
					SendNotification("X-Ro | Tha Bronx 2", "Critical error occured, please retry the action!", 2); break
				end
			until #Backpack:GetChildren() > OldBackpackSize

			Teleport(OldCFrame); Debounce = false
		end)

		local CookRice = LPH_NO_VIRTUALIZE(function()
			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			Backpack = LocalPlayer:FindFirstChild("Backpack")

			local Tool

			for _, Value in next, Backpack:GetChildren() do
				if Value:IsA("Tool") and Value.Name == "RiceBag" then
					Tool = Value; break
				end
			end

			Tool = Tool or GetCharacter():FindFirstChild("RiceBag")

			if not Tool then
				return SendNotification("X-Ro | Tha Bronx 2", "You don't own any rice bags!", 2)
			end

			local Available, Stoves = 0, {}

			for _, Value in next, workspace["No-Steal Pots"]:GetChildren() do
				local _Value = Value.Pront.CookPart

				if _Value.Fire1.ParticleEmitter.Enabled or _Value:FindFirstChildOfClass("ProximityPrompt").ActionText == "Pick Up!" then
					continue
				end

				Available +=  1
				Stoves[#Stoves + 1] = _Value
			end

			if Available == 0 then
				return SendNotification("X-Ro | Tha Bronx 2", "No stoves available!", 2)
			end

			Debounce = true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			local RiceToCook, RiceCooked = 0, 0

			for _, Value in next, Stoves do
				if Value.Fire1.ParticleEmitter.Enabled then
					continue
				end

				Teleport(Value.CFrame)

				if not GetCharacter():FindFirstChild("RiceBag") then
					if Backpack:FindFirstChild("RiceBag") then
						GetCharacter():FindFirstChildOfClass("Humanoid"):EquipTool(Backpack:FindFirstChild("RiceBag"))
					else
						break
					end
				end

				local Prompt = Value:FindFirstChildOfClass("ProximityPrompt")

				local TimeElapsed = tick()

				repeat
					if Prompt.ActionText == "Pick Up!" or Value.Fire1.ParticleEmitter.Enabled then
						SendNotification("X-Ro | Tha Bronx 2", "Critical error! Someone took the selected stove. Index: "..tostring(RiceToCook), 4)
					end

					if (tick() - TimeElapsed) >= 3 then
						SendNotification("X-Ro | Tha Bronx 2", "Action exhausted (critical error), cook rice failed. Index: "..tostring(RiceToCook), 4)
					end

					FirePrompt(Prompt) -- Cook rice
				until Value.Fire1.ParticleEmitter.Enabled or Prompt.ActionText == "Pick Up!" or Value.Fire1.ParticleEmitter.Enabled or (tick() - TimeElapsed) >= 3

				RiceToCook += 1

				spawn(function()
					repeat
						wait(0)
					until not Debounce and GetCharacter() and GetCharacter():FindFirstChildOfClass("Humanoid").Health > 0 and Prompt.ActionText == "Pick Up!"

					Debounce = true

					HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
					OldCFrame = HumanoidRootPart.CFrame

					TimeElapsed = tick()

					repeat
						if (tick() - TimeElapsed) >= 3 then
							SendNotification("X-Ro | Tha Bronx 2", "Action exhausted (critical error), cook rice failed. Index: "..tostring(RiceCooked), 4)
						end

						Teleport(Value.CFrame)
						FirePrompt(Prompt) -- Pick up rice
					until Prompt.ActionText ~= "Pick Up!" or (tick() - TimeElapsed) >= 3

					Teleport(OldCFrame); Debounce = false

					RiceCooked += 1

					SendNotification("X-Ro | Tha Bronx 2", "Successfully cooked "..tostring(RiceCooked).." / "..tostring(RiceToCook).." rice bags.", 3)
				end)
			end

			Teleport(OldCFrame); Debounce = false
		end)

		local SellRice = LPH_NO_VIRTUALIZE(function()
			if (tick() - LastCookedRice) < Threshold then
				SendNotification("X-Ro | Tha Bronx 2", "Sell Rice delayed until anti-cheat duration threshold has passed, please wait!", 4)

				repeat
					wait(1)
				until (tick() - LastCookedRice) >= Threshold and not Debounce
			end

			if (tick() - LastCookedRice) < Threshold then
				return
			end

			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			GetCharacter():FindFirstChildOfClass("Humanoid"):UnequipTools()

			local Amount = 0
			local Tools = {}

			for _, Value in next, LocalPlayer:FindFirstChild("Backpack"):GetChildren() do
				if Value:IsA("Tool") and stringmatch(Value.Name, "Rice") and Value.Name ~= "RiceBag" then
					Amount += 1
					Tools[#Tools + 1] = Value
				end
			end

			if Amount == 0 then
				return SendNotification("X-Ro | Tha Bronx 2", "No rice to sell!", 2)
			end

			Debounce = true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			local OldNoClipValue = XRO_NoClip

			XRO_NoClip = true

			Teleport(CFramenew(81062.3828, 133132.953, 167.078979, -0.999821424, -4.34790959e-09, 0.0188986398, -4.39821335e-09, 1, -2.6202005e-09, -0.0188986398, -2.70285283e-09, -0.999821424))

			local Prompt = workspace.Sell:FindFirstChildOfClass("ProximityPrompt")

			local OldBalance = GetBalance(true)

			for _, Value in next, Tools do
				repeat
					GetCharacter():FindFirstChildOfClass("Humanoid"):EquipTool(Value); wait(0)
				until GetCharacter():FindFirstChildOfClass("Tool") == Value

				repeat
					FirePrompt(Prompt) -- Sell rice
				until Value.Parent ~= GetCharacter()
			end

			SendNotification("X-Ro | Tha Bronx 2", "Made $"..tostring(GetBalance(true) - OldBalance).." from selling rice!", 2)

			XRO_NoClip = OldNoClipValue
			Teleport(OldCFrame); Debounce = false
		end)

		local SwipeCards = LPH_JIT_MAX(function()
			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			Backpack = LocalPlayer:FindFirstChild("Backpack")

			if not Backpack:FindFirstChild("Card") or not GetCharacter():FindFirstChild("Card") then
				return SendNotification("X-Ro | Tha Bronx 2", "You don't own any cards!", 2)
			end

			Debounce = true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			local OldNoClipValue, OldFlyValue = XRO_NoClip, FlySettings.Enabled

			XRO_NoClip = true
			FlySettings.Enabled = true

			for _, Value in next, workspace.Robbables:GetChildren() do
				if not GetCharacter():FindFirstChild("Card") then
					if Backpack:FindFirstChild("Card") then
						GetCharacter():FindFirstChildOfClass("Humanoid"):EquipTool(Backpack:FindFirstChild("Card"))
					else
						break
					end
				end

				local Prompt = Value:FindFirstChildOfClass("ProximityPrompt")

				local Tries = 0

				repeat
					Teleport(Value.CFrame)
					FirePrompt(Prompt) -- Swipe Card
					Tries += 1

					if stringmatch(GetCharacter():FindFirstChildOfClass("Tool").Name, "Cash") then
						break
					end
				until Tries >= 10 or not GetCharacter():FindFirstChildOfClass("Tool")

				if Tries >= 10 then
					continue -- ATM is unavailable
				end

				--// Return Cash

				repeat
					wait(0)
				until stringmatch(GetCharacter():FindFirstChildOfClass("Tool").Name, "Cash") or stringmatch(Backpack:FindFirstChildOfClass("Tool").Name, "Cash")

				local Cash

				for _, _Value in next, Backpack:GetChildren() do
					if _Value:IsA("Tool") and stringmatch(_Value.Name, "Cash") then
						Cash = Value
						break
					end
				end

				if Cash then
					GetCharacter():FindFirstChildOfClass("Humanoid"):EquipTool(Cash)
				end

				Value = workspace["Card Cash Giver"]

				Teleport(Value.CFrame)
				Prompt = Value:FindFirstChildOfClass("ProximityPrompt")

				local OldBalance = GetBalance()

				repeat
					FirePrompt(Prompt) -- Deposit Cash
				until GetBalance() > OldBalance
			end

			Teleport(OldCFrame); Debounce = false

			FlySettings.Enabled = OldFlyValue
			XRO_NoClip = OldNoClipValue
		end)

		local RobStudio = LPH_JIT_MAX(function()
			local Robbed, OldBalance = 0, GetBalance()

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			for _, Prompt in next, workspace.StudioPay.Money:GetDescendants() do
				if not Prompt:IsA("ProximityPrompt") or not Prompt.Enabled then
					continue
				end

				if Prompt.ObjectText == "$7900" then
					Teleport(CFramenew(93425.4297, 14484.7207, 561.066162, 0.0331067592, 3.84856769e-09, -0.999451816, -1.8149894e-08, 1, 3.24946492e-09, 0.999451816, 1.80323649e-08, 0.0331067592))
				elseif Prompt.ObjectText == "$3350" then
					Teleport(CFramenew(93421.6641, 14484.7207, 561.143677, 0.0108167073, 7.01139271e-08, 0.999941468, -9.69442198e-08, 1, -6.90693511e-08, -0.999941468, -9.61914424e-08, 0.0108167073))
				elseif Prompt.ObjectText == "$16000" then
					Teleport(CFramenew(93421.1016, 14484.7197, 565.176697, 0.0123346373, 8.85432438e-09, 0.999923944, -1.87503737e-08, 1, -8.62370175e-09, -0.999923944, -1.86425773e-08, 0.0123346373))
				end

				repeat
					FirePrompt(Prompt)
				until not Prompt.Enabled

				Robbed += 1
			end

			if Robbed > 0 then
				Teleport(OldCFrame)
			end

			SendNotification("X-Ro | Tha Bronx 2", Robbed > 0 and "Robbery successful! ("..tostring(Robbed).." / 3) Made $"..tostring(GetBalance() - OldBalance).."!" or "\"On The Radar\" studio rob is unavailable.", 3)
		end)

		local PlantSeeds = LPH_NO_VIRTUALIZE(function()
			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			Backpack = LocalPlayer:FindFirstChild("Backpack")

			local Tool

			for _, Value in next, Backpack:GetChildren() do
				if Value:IsA("Tool") and Value.Name == "Seeds" then
					Tool = Value; break
				end
			end

			Tool = Tool or GetCharacter():FindFirstChild("Seeds")

			if not Tool then
				return SendNotification("X-Ro | Tha Bronx 2", "You don't own any seeds!", 2)
			end

			local Available, Pots = 0, {}

			for _, Value in next, workspace.PLANTS:GetChildren() do
				local _Value = Value.PlantPromt

				if _Value:FindFirstChildOfClass("ProximityPrompt").ActionText == "Recieve" then
					continue
				end

				Available += 1
				Pots[#Pots + 1] = _Value
			end

			if Available == 0 then
				return SendNotification("X-Ro | Tha Bronx 2", "No pots available!", 2)
			end

			Debounce = true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			local GrassToPlant, GrassPlanted = 0, 0

			for _, Value in next, Pots do
				if GrassToPlant == 7 then
					SendNotification("X-Ro | Tha Bronx 2", "Maximum number of seeds (7) are planted.", 4)
					break
				end

				local Prompt = Value:FindFirstChildOfClass("ProximityPrompt")

				if not Prompt.Enabled then
					continue
				end

				if not GetCharacter():FindFirstChild("Seeds") then
					if Backpack:FindFirstChild("Seeds") then
						GetCharacter():FindFirstChildOfClass("Humanoid"):EquipTool(Backpack:FindFirstChild("Seeds"))
					else
						break
					end
				end

				local TimeElapsed = tick()

				repeat
					wait(0) -- Prevent crashing

					if Prompt.ActionText == "Recieve" then
						SendNotification("X-Ro | Tha Bronx 2", "Critical error! Someone took the selected pot. Index: "..tostring(GrassToPlant), 4)
					end

					if (tick() - TimeElapsed) >= 3 then
						SendNotification("X-Ro | Tha Bronx 2", "Action exhausted, pot on cooldown or exceeded active pots? Index: "..tostring(GrassToPlant), 4)
					end

					Teleport(Value.CFrame)
					FirePrompt(Prompt) -- Plant Seeds
				until not Prompt.Enabled or Prompt.ActionText == "Recieve" or (tick() - TimeElapsed) >= 3

				GrassToPlant += 1

				spawn(function()
					repeat
						wait(0)
					until not Debounce and GetCharacter() and GetCharacter():FindFirstChildOfClass("Humanoid").Health > 0 and Prompt.ActionText == "Recieve" and Prompt.Enabled

					Debounce = true

					HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
					OldCFrame = HumanoidRootPart.CFrame

					repeat
						Teleport(Value.CFrame)
						FirePrompt(Prompt) -- Pick up grass
					until Prompt.ActionText ~= "Recieve"

					Teleport(OldCFrame); Debounce = false

					GrassPlanted += 1

					SendNotification("X-Ro | Tha Bronx 2", "Picked up "..tostring(GrassPlanted).." / "..tostring(GrassToPlant).." fully grown grass.", 3)
				end)
			end

			Teleport(OldCFrame); Debounce = false
		end)

		local BuySeeds = LPH_JIT_MAX(function()
			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			if tonumber(stringmatch(workspace.GUNS.Seeds.Over.Sign.SurfaceGui.SIGN.Text, "%d+")) == 0 then
				return SendNotification("X-Ro | Tha Bronx 2", "No seeds available!", 2)
			end

			if (GetBalance() - 1000) < 0 then
				return SendNotification("X-Ro | Tha Bronx 2", "Insufficient funds!", 2)
			end

			Debounce = true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			local Prompt = workspace.GUNS.Seeds.Bag:FindFirstChildOfClass("ProximityPrompt")

			Backpack = LocalPlayer:FindFirstChild("Backpack")

			local OldBackpackSize = #Backpack:GetChildren()

			repeat
				Teleport(CFramenew(-1541.31909, 282.439026, -984.754456, 0.0237076972, -2.90279782e-08, -0.999718904, 7.62883001e-09, 1, -2.88552275e-08, 0.999718904, -6.94259494e-09, 0.0237076972))

				FirePrompt(Prompt)

				if tonumber(stringmatch(workspace.GUNS.Seeds.Over.Sign.SurfaceGui.SIGN.Text, "%d+")) == 0 or HumanoidRootPart.Parent:FindFirstChildOfClass("Humanoid").Health <= 0 then
					SendNotification("X-Ro | Tha Bronx 2", "Critical error occured, please retry the action!", 2); break
				end
			until #Backpack:GetChildren() > OldBackpackSize

			Teleport(OldCFrame); Debounce = false
		end)

		local SellGrass = LPH_NO_VIRTUALIZE(function()
			if (tick() - LastReceivedGrass) < Threshold then
				SendNotification("X-Ro | Tha Bronx 2", "Sell Grass delayed until anti-cheat duration threshold has passed, please wait!", 4)

				repeat
					wait(1)
				until (tick() - LastReceivedGrass) >= Threshold and not Debounce
			end

			if (tick() - LastReceivedGrass) < Threshold then
				return
			end

			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			GetCharacter():FindFirstChildOfClass("Humanoid"):UnequipTools()

			local Amount = 0
			local Tools = {}

			for _, Value in next, LocalPlayer:FindFirstChild("Backpack"):GetChildren() do
				if Value:IsA("Tool") and stringmatch(Value.Name, "RapidGrassPatch") then -- Names are prefixed with the size: (S)mall; (M)edium; (L)arge
					Amount += 1
					Tools[#Tools + 1] = Value
				end
			end

			if Amount == 0 then
				return SendNotification("X-Ro | Tha Bronx 2", "No grass to sell!", 2)
			end

			Debounce = true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			Teleport(CFramenew(-630, 253, -759))

			local Prompt = workspace.PlantSeller:FindFirstChildOfClass("ProximityPrompt")

			local OldBalance = GetBalance(true)

			for _, Value in next, Tools do
				repeat
					GetCharacter():FindFirstChildOfClass("Humanoid"):EquipTool(Value); wait(0)
				until GetCharacter():FindFirstChildOfClass("Tool") == Value

				repeat
					FirePrompt(Prompt) -- Sell grass
				until Value.Parent ~= GetCharacter()
			end

			SendNotification("X-Ro | Tha Bronx 2", "Made $"..tostring(GetBalance(true) - OldBalance).." from selling grass!", 2)

			Teleport(OldCFrame); Debounce = false
		end)

		local CollectGrass = LPH_NO_VIRTUALIZE(function()
			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			Debounce = true

			local Collected = 0

			for _, Value in next, workspace.PLANTS:GetChildren() do
				local _Value = Value.PlantPromt
				local Prompt = _Value:FindFirstChildOfClass("ProximityPrompt")

				if Prompt.ActionText == "Recieve" and Prompt.Enabled then
					Collected += 1

					repeat
						if Prompt.ActionText ~= "Recieve" then
							break -- In case someone collects it
						end

						Teleport(Value.CFrame)
						FirePrompt(Prompt) -- Pick up grass
					until Prompt.ActionText ~= "Recieve"
				end
			end

			SendNotification("X-Ro | Tha Bronx 2", Collected > 0 and "Collected "..tostring(Collected).." grass patches." or "No grass patches available!", 4)

			Teleport(OldCFrame); Debounce = false
		end)

		local ModWeapon = LPH_JIT_MAX(function(Weapon)

			--// Fetch Module

			local Module = Weapon:FindFirstChildOfClass("ModuleScript")
			local OldConfig = OldWeaponValues[Weapon.Name]

			if Module and Module.Name == "Setting" then
				Module = require(Module)
			else
				return
			end

			--// Infinite Ammo

			Module.Ammo = ThaBronxConfig._Modifications.InfiniteAmmo and 9e9 or OldConfig.Ammo
			Module.MaxAmmo = ThaBronxConfig._Modifications.InfiniteAmmo and 9e9 or OldConfig.MaxAmmo
			Module.AmmoPerMag = ThaBronxConfig._Modifications.InfiniteAmmo and 9e9 or OldConfig.AmmoPerMag

			if ThaBronxConfig._Modifications.InfiniteAmmo then
				Module.LimitedAmmoEnabled = false
			else
				Module.LimitedAmmoEnabled = OldConfig.LimitedAmmoEnabled
			end

			--// Fast Fire Rate

			Module.FireRate = ThaBronxConfig._Modifications.FastFireRate and 0 or OldConfig.FireRate

			--// Full Auto

			Module.Auto = ThaBronxConfig._Modifications.FullAuto or OldConfig.Auto

			--// One Tap

			--rawset(Module, "BaseDamage", ThaBronxConfig._Modifications.OneTap and 100 or OldConfig["BaseDamage"])

			--// Life Steal

			if Module.Lifesteal then -- Some weapons don't have this property.
				Module.Lifesteal = ThaBronxConfig._Modifications.Lifesteal and 100 or OldConfig.Lifesteal
			end

			--// Instant Reload

			Module.ReloadTime = ThaBronxConfig._Modifications.InstantReload and 0 or OldConfig.ReloadTime

			--// Instant Equip

			Module.EquipTime = ThaBronxConfig._Modifications.InstantEquip and 0 or OldConfig.EquipTime

			--// No Recoil

			--[[

			if Module.CameraRecoilingEnabled then -- Some weapons don't have this property.
				Module.CameraRecoilingEnabled = ThaBronxConfig._Modifications.NoRecoil and false or OldConfig.CameraRecoilingEnabled
			end

			Module.Recoil = ThaBronxConfig._Modifications.NoRecoil and 0 or OldConfig.Recoil
			Module.RecoilDamper = ThaBronxConfig._Modifications.NoRecoil and 0 or OldConfig.RecoilDamper
			Module.RecoilSpeed = ThaBronxConfig._Modifications.NoRecoil and 0 or OldConfig.RecoilSpeed

			]]

			--// No Spread

			Module.SpreadX = ThaBronxConfig._Modifications.NoSpread and 0 or OldConfig.SpreadX
			Module.SpreadY = ThaBronxConfig._Modifications.NoSpread and 0 or OldConfig.SpreadY

			--// No Jam

			Module.JamChance = ThaBronxConfig._Modifications.NoJam and 0 or OldConfig.JamChance

			--SendNotification("X-Ro | Tha Bronx 2", "Modded gun: "..Weapon.Name, 2)
		end)

		local ModWeapons = LPH_NO_VIRTUALIZE(function()
			for _, Weapon in next, GetAllTools(true) do
				if Weapon:IsA("Tool") then
					spawn(ModWeapon, Weapon)
				end
			end
		end)

		local CreateBeam = LPH_NO_VIRTUALIZE(function(Origin, End)
			local Settings = ThaBronxConfig.BulletTracers

			local OriginAtt = Instance.new("Attachment")
			OriginAtt.Parent = workspace.Terrain
			OriginAtt.Position = Origin

			local EndAtt = Instance.new("Attachment")
			EndAtt.Parent = workspace.Terrain
			EndAtt.Position = End

			local Beam = Instance.new("Beam")
			Beam.Attachment0 = OriginAtt
			Beam.Attachment1 = EndAtt
			Beam.Transparency = NumberSequence.new(Settings.Transparency, Settings.Transparency)
			Beam.Color = ColorSequence.new(Settings.Color, Settings.Color)
			Beam.Width0 = Settings.Thickness
			Beam.Width1 = Settings.Thickness

			for Property, PropertyValue in next, BeamProperties do
				Beam[Property] = PropertyValue
			end

			Beam.Parent = workspace

			delay(Settings.Lifetime, function()
				Beam:Destroy()
				OriginAtt:Destroy()
				EndAtt:Destroy()
			end)

			if Settings.RainbowColor then
				spawn(function()
					while wait(0) do
						if not Beam then
							break
						end

						Beam.Color = ColorSequence.new(GetRainbowColor())
					end
				end)
			end

			if Settings.Fade then
				spawn(function()
					for Step = Settings.Transparency, 1, ((1 - Settings.Transparency) * 0.1) do
						if not Beam then
							break
						end

						Beam.Transparency = NumberSequence.new(Step, Step)
						wait(Settings.Lifetime * 0.1)
					end
				end)
			end
		end)

		local OnBullet = LPH_NO_VIRTUALIZE(function(Old, ...)

			local Tool = GetCharacter():FindFirstChildOfClass("Tool")
			local Handle = Tool and Tool:FindFirstChild("Handle")

			--// Silent Aim

			if ThaBronxConfig.SilentAim.Enabled and (100 * mathrandom()) < ThaBronxConfig.SilentAim.HitChance and Aimbot and Aimbot.GetClosestPlayer then
				local ClosestPlayer = Aimbot.GetClosestPlayer(ThaBronxConfig.SilentAim.WallCheck, ThaBronxConfig.SilentAim.SafeZone)
				local Character = ClosestPlayer and ClosestPlayer.Character
				local HitPart = Character and Character:FindFirstChild(Aimbot.Settings.LockPart)

				if HitPart then
					if ThaBronxConfig.BulletTracers.Enabled and Handle then
						spawn(CreateBeam, Handle.Position, HitPart.Position)
					end

					return HitPart.Position
				end
			end

			if ThaBronxConfig.BulletTracers.Enabled and Handle then
				spawn(CreateBeam, Handle.Position, Old(...))
			end

			return Old(...)
		end)

		local ToolChecks = LPH_NO_VIRTUALIZE(function(Value)
			repeat
				wait(0)
			until not Debounce

			if Value.Parent ~= LocalPlayer.Backpack then
				if Value.Parent ~= GetCharacter() then
					return
				end
			end

			if Value:IsA("Tool") then

				--[[
				local AutoDupe = function()
					if ThaBronxConfig.AutoDuplicate then
						local Humanoid = GetCharacter():FindFirstChildOfClass("Humanoid")

						Humanoid:UnequipTools()
						Humanoid:EquipTool(Value)
						DuplicateItem(true)
					end
				end
				]]

				spawn(function()
					if Value.Name == "RiceBag" and ThaBronxConfig.AutoCookRice then
						CookRice()
					elseif Value.Name == "Seeds" and ThaBronxConfig.AutoPlantSeeds then
						PlantSeeds()
					elseif stringmatch(Value.Name, "Rice") and Value.Name ~= "RiceBag" then -- Finished "RiceBag" product (sellable item)
						LastCookedRice = tick()

						if ThaBronxConfig.AutoSellRice then
							--[[AutoDupe();]] SellRice()
						end
					elseif stringmatch(Value.Name, "RapidGrassPatch") and ThaBronxConfig.AutoSellGrass then -- Finished "Seeds" product (sellable item)
						LastReceivedGrass = tick()

						if ThaBronxConfig.AutoSellGrass then
							--[[AutoDupe();]] SellGrass()
						end
					else
						ModWeapon(Value)
					end
				end)

				--// Silent Aim

				local GunClient = Value:FindFirstChild("GunScript_Local")

				if GunClient then
					if not SilentAimWrapped[GunClient:GetDebugId()] then -- Filter out guns that are already hooked (to prevent crashing).
						for _, _Value in next, getgc() do
							if type(_Value) == "function" then
								local FunctionEnvironment = getfenv(_Value)
								local Script = FunctionEnvironment.script

								if not Script or not Script.Parent or Script ~= GunClient or not Script.Parent.Parent == GetCharacter() then
									continue -- Filter out nil instances (destroyed weapons).
								end

								if Script.Name == "GunScript_Local" and getinfo(_Value).name == "Get3DPosition" then
									local Old; Old = hookfunction(_Value, function(...)
										return OnBullet(Old, ...)
									end)

									SilentAimWrapped[GunClient:GetDebugId()] = true
								end
							end
						end
					end
				end
			end
		end)

		local PurchaseItem = LPH_JIT_MAX(function(Object)
			if #Object ~= 2 then
				return SendNotification("X-Ro | Tha Bronx 2", "Critical error occured, action canceled!", 2)
			end

			if Debounce then
				return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
			end

			if (GetBalance() - Object[2]) < 0 then
				return SendNotification("X-Ro | Tha Bronx 2", "Insufficient funds!", 2)
			end

			Debounce = true

			local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
			local OldCFrame = HumanoidRootPart.CFrame

			Backpack = LocalPlayer:FindFirstChild("Backpack")

			local OldBackpackSize = #Backpack:GetChildren()

			local TimeElapsed = tick()

			repeat
				if (tick() - TimeElapsed) >= 3 then
					SendNotification("X-Ro | Tha Bronx 2", "Action exhausted (critical error), purchase item failed.", 4)
				end

				Teleport(Object[1].Parent.CFrame)
				FirePrompt(Object[1])
			until #Backpack:GetChildren() > OldBackpackSize or (tick() - TimeElapsed) >= 3

			Teleport(OldCFrame); Debounce = false
		end)

		--// Backend

		if Support then
			spawn(LPH_NO_VIRTUALIZE(function() -- Auto Shoot
				repeat
					wait(0)
				until XRO_TB2_LOADED

				while wait(0.5) and Aimbot and Aimbot.GetClosestPlayer do
					if not GetCharacter() then
						continue
					end

					local Tool = GetCharacter():FindFirstChildOfClass("Tool")

					if Tool and Tool:FindFirstChild("GunScript_Local") and ThaBronxConfig.SilentAim.AutoShoot and ThaBronxConfig.SilentAim.Enabled then
						if Aimbot.GetClosestPlayer(ThaBronxConfig.SilentAim.WallCheck, ThaBronxConfig.SilentAim.SafeZone) then
							repeat
								mouse1click(); wait(0) -- Shoot
							until not Aimbot.GetClosestPlayer(ThaBronxConfig.SilentAim.WallCheck) -- Keep shooting until the player is not in your FOV or dead.
						end
					end

					if not XRO_TB2_LOADED then
						break
					end
				end
			end))
		end

		spawn(LPH_NO_VIRTUALIZE(function()
			for _, Value in next, workspace.GUNS:GetChildren() do
				if Wrapped[Value.Name] then
					continue
				end

				if not Value:IsA("Model") or not Value:FindFirstChild("Price") then
					continue
				end

				if Value:FindFirstChild("GamepassID") and not MarketplaceService:UserOwnsGamePassAsync(LocalPlayer.UserId, Value:FindFirstChild("GamepassID").Value) then
					continue -- If the user does not own the game pass required for the item, we won't wrap the item
				end

				local Prompt

				for _, _Value in next, Value:GetDescendants() do
					if _Value:IsA("ProximityPrompt") then
						Prompt = _Value
						break
					end
				end

				if not Prompt then
					continue
				end

				if Value.Price.Value <= 0 then -- Some role is usually needed for these "free" tools, for example the police tools
					continue
				end

				Items[Value.Name.." ($"..tostring(Value.Price.Value)..")"] = {Prompt, Value.Price.Value}
				Wrapped[Value.Name] = true
			end

			ItemsWrapped = true
		end))

		spawn(LPH_NO_VIRTUALIZE(function()
			while wait(180) do
				CleaningDebounce = false -- In case "Clean Money" process chokes
			end
		end))

		spawn(LPH_NO_VIRTUALIZE(function()
			while wait(60) do
				Debounce = false -- In case some process chokes
			end
		end))

		spawn(LPH_JIT_MAX(function() -- Manual purchasing (with teleporting & firing prompts)
			repeat
				wait(0)
			until XRO_TB2_LOADED

			while wait(3) do
				if ThaBronxConfig.AutoBuyRice and tonumber(stringmatch(workspace.GUNS.RiceBag.Over.Sign.SurfaceGui.SIGN.Text, "%d+")) > 0 then
					BuyRice()
				end

				if ThaBronxConfig.AutoBuySeeds and tonumber(stringmatch(workspace.GUNS.Seeds.Over.Sign.SurfaceGui.SIGN.Text, "%d+")) > 0 then
					BuySeeds()
				end

				if ThaBronxConfig.InfiniteSleep and GetREnvSupport then
					getrenv().shared.Wokeness = 100
				end

				if not XRO_TB2_LOADED then
					break
				end
			end
		end))

		spawn(LPH_JIT_MAX(function() -- Remote purchasing (from the Exotic Dealer)
			repeat
				wait(0)
			until XRO_TB2_LOADED

			while wait(1) do
				if ThaBronxConfig.AutoBuyRice then
					ExoticShopRemote:InvokeServer("RiceBag")
				end

				if ThaBronxConfig.AutoBuySeeds then
					ExoticShopRemote:InvokeServer("Seeds")
				end

				if not XRO_TB2_LOADED then
					break
				end
			end
		end))

		spawn(function()
			repeat
				wait(0)
			until XRO_TB2_LOADED

			while wait(0) do
				if ThaBronxConfig.GodMode and XRO_TB2_LOADED then
					DamagePlayer:InvokeServer(-1 / 0)
				end
			end
		end)

		TB2Connections["ThaBronx2_CharacterAdded"] = LocalPlayer.CharacterAdded:Connect(LPH_JIT_MAX(function(Character)
			repeat
				wait(1)
			until Character:FindFirstChild("CameraBobbing") and Character:FindFirstChild("LowHealthEffect") and Character:FindFirstChild("deathClient")

			repeat
				wait(1)
			until LocalPlayer.PlayerGui:FindFirstChild("BloodGui") and LocalPlayer.PlayerGui:FindFirstChild("LowHealthT") and LocalPlayer.PlayerGui:FindFirstChild("CloseRangeBlood")

			for _, Value in next, LocalPlayer.PlayerGui:GetChildren() do
				if Value.Name == "BloodGui" or Value.Name == "LowHealthT" or Value.Name == "CloseRangeBlood" then
					Value.Enabled = not ThaBronxConfig.DisableScreenEffects

					TB2Connections[Value.Name.."_Changed"] = Value.Changed:Connect(function(Property)
						if Property == "Enabled" then
							Value.Parent.Enabled = not ThaBronxConfig.DisableScreenEffects
						end
					end)

					if Value.Name == "LowHealthT" then
						Value = Value:FindFirstChildOfClass("Frame")

						TB2Connections["InstantRevive"] = Value.Changed:Connect(function(Property)
							if Property == "Visible" and Value.Visible and ThaBronxConfig.InstantRevive then
								repeat
									FSpamRemote:FireServer(); wait(0)
								until not Value.Visible
							end
						end)
					end
				elseif Value.Name == "Run" then
					Value.Frame.Frame.Frame.StaminaBarScript.Disabled = ThaBronxConfig.InfiniteStamina
				elseif Value.Name == "Hunger" then
					Value.Frame.Frame.Frame.HungerBarScript.Disabled = ThaBronxConfig.InfiniteHunger
				elseif Value.Name == "SleepGui" then
					Value.Frame.sleep.SleepBar.sleepScript.Disabled = ThaBronxConfig.InfiniteSleep
				elseif Value.Name == "RentGui" then
					Value.LocalScript.Disabled = ThaBronxConfig.NoRentPay
				end
			end

			Character:FindFirstChild("LowHealthEffect").Enabled = not ThaBronxConfig.DisableScreenEffects
			Character:FindFirstChild("deathClient").Enabled = not ThaBronxConfig.DisableScreenEffects
			Character:FindFirstChild("FallDamageRagdoll").Enabled = not ThaBronxConfig.NoFallDamage

			Character:FindFirstChild("CameraBobbing").Enabled = not ThaBronxConfig.CameraBobbing

			pcall(function()
				TB2Connections["LowHealthEffect_Changed"] = Character:WaitForChild("LowHealthEffect", true).Changed:Connect(function()
					Character:FindFirstChild("LowHealthEffect").Enabled = not ThaBronxConfig.DisableScreenEffects
				end)

				TB2Connections["deathClient_Changed"] = Character:FindFirstChild("deathClient").Changed:Connect(function()
					Character:FindFirstChild("deathClient").Enabled = not ThaBronxConfig.DisableScreenEffects
				end)

				TB2Connections["FallDamageRagdoll_Changed"] = Character:FindFirstChild("FallDamageRagdoll").Changed:Connect(function()
					Character:FindFirstChild("FallDamageRagdoll").Enabled = not ThaBronxConfig.NoFallDamage
				end)

				TB2Connections["CameraBobbing_Changed"] = Character:FindFirstChild("CameraBobbing").Changed:Connect(function()
					Character:FindFirstChild("CameraBobbing").Enabled = not ThaBronxConfig.CameraBobbing
				end)

				LocalPlayer.PlayerGui:WaitForChild("JumpDebounce", true):FindFirstChildOfClass("LocalScript").Enabled = not ThaBronxConfig.NoJumpCooldown

				TB2Connections["Backpack_ChildAdded"] = LocalPlayer.Backpack.ChildAdded:Connect(ToolChecks)
				TB2Connections["Character_ChildAdded"] = Character.ChildAdded:Connect(ToolChecks)

				TB2Connections["Humanoid_Died"] = Character:FindFirstChildOfClass("Humanoid").Died:Connect(function()
					if ThaBronxConfig.InstantRespawn then
						RespawnRE:FireServer()
					end
				end)
			end)
		end))

		TB2Connections["Backpack_ChildAdded"] = LocalPlayer.Backpack.ChildAdded:Connect(ToolChecks)
		TB2Connections["Character_ChildAdded"] = GetCharacter().ChildAdded:Connect(ToolChecks)

		TB2Connections["Humanoid_Died"] = GetCharacter():FindFirstChildOfClass("Humanoid").Died:Connect(function()
			if ThaBronxConfig.InstantRespawn then
				RespawnRE:FireServer()
			end
		end)

		TB2Connections["ThaBronx2_Dollas_ChildAdded"] = Dollas.ChildAdded:Connect(LPH_JIT_MAX(function(Cash)
			if ThaBronxConfig.Collecting then
				CollectLootable(Cash)
			end
		end))

		TB2Connections["ThaBronx2_Storage_ChildAdded"] = Storage.ChildAdded:Connect(LPH_JIT_MAX(function(Bag)
			if ThaBronxConfig.LootBags and MarketplaceService:UserOwnsGamePassAsync(LocalPlayer.UserId, 103359921) and Bag.Name == "Baggy" then
				CollectLootable(Bag)
			end
		end))

		TB2Connections["ThaBronx2_Workspace_ChildAdded"] = workspace.ChildAdded:Connect(LPH_JIT_MAX(function(Tool)
			if ThaBronxConfig.PickUpDrops and Tool:IsA("Tool") then
				for _, Value in next, Tool:GetDescendants() do
					if Value:IsA("ProximityPrompt") and Value.ActionText == "Pick Up" then
						CollectLootable(Value.Parent)
					end
				end
			end
		end))

		TB2Connections["ThaBronx2_Prompt_Began"] = ProximityPromptService.PromptButtonHoldBegan:Connect(LPH_JIT_MAX(function(Prompt)
			if not ThaBronxConfig.InstantPrompts then
				return
			end

			local Old = Prompt.HoldDuration

			Prompt.HoldDuration = 0
			Prompt:InputHoldBegin()
			Prompt:InputHoldEnd()
			fireproximityprompt(Prompt, true); wait(0.25)

			Prompt.HoldDuration = Old
		end))

		if Support then
			for _, Weapon in next, GetAllTools() do -- Cache old weapon values
				if Weapon:IsA("Tool") then
					local Module = Weapon:FindFirstChildOfClass("ModuleScript")

					if Module and Module.Name == "Setting" then
						Module = require(Module)
					end

					if type(Module) == "table" and not OldWeaponValues[Weapon.Name] then
						OldWeaponValues[Weapon.Name] = {}

						local OldConfig = OldWeaponValues[Weapon.Name]

						for Index, Value in next, Module do
							OldConfig[Index] = Value
						end
					end
				end
			end
		end

		local ConfigMetatable = getmetatable(ThaBronxConfig.Modifications)

		ConfigMetatable.__index = LPH_NO_VIRTUALIZE(function(...)
			return ThaBronxConfig._Modifications[select(2, ...)]
		end)

		ConfigMetatable.__newindex = LPH_NO_VIRTUALIZE(function(...)
			local Index, Value = select(2, ...) -- Ignore 1st argument - "self"

			ThaBronxConfig._Modifications[Index] = Value; ModWeapons() -- Auto Update
		end)

		--// Farming

		TBFarmsSection:CreateToggle({
			Name = "Collect Dropped Cash",
			Flag = "TB2_Collecting_Enabled",
			Default = ThaBronxConfig.Collecting,
			NoExecute = true,
			Callback = LPH_JIT_MAX(function(Value)
				ThaBronxConfig.Collecting = Value

				if Value then
					for _, Cash in next, Dollas:GetChildren() do
						CollectLootable(Cash)
					end
				end
			end)
		})

		TBFarmsSection:CreateToggle({
			Name = "Pick Up Dropped Items",
			Flag = "TB2_PickUpDrops_Enabled",
			Default = ThaBronxConfig.PickUpDrops,
			NoExecute = true,
			Callback = LPH_JIT_MAX(function(Value)
				ThaBronxConfig.PickUpDrops = Value

				if Value then
					for _, Tool in next, workspace:GetChildren() do
						if Tool:IsA("Tool") then
							for _, _Value in next, Tool:GetDescendants() do
								if _Value:IsA("ProximityPrompt") and _Value.ActionText == "Pick Up" then
									CollectLootable(_Value.Parent)
								end
							end
						end
					end
				end
			end)
		})

		TBFarmsSection:CreateToggle({
			Name = "Loot Bags",
			Flag = "TB2_Looting_Enabled",
			Default = ThaBronxConfig.LootBags,
			NoExecute = true,
			Callback = LPH_JIT_MAX(function(Value)
				ThaBronxConfig.LootBags = Value

				if not Value then
					return
				end

				if MarketplaceService:UserOwnsGamePassAsync(LocalPlayer.UserId, 103359921) then
					for _, Bag in next, Storage:GetChildren() do
						CollectLootable(Bag)
					end
				else
					SendNotification("X-Ro | Tha Bronx 2", "You must own the \"Looting\" gamepass to use this feature!", 2)
				end
			end)
		})

		TBFarmsSection:CreateToggle({
			Name = "Autofarm Mop Job",
			Flag = "TB2_AutofarmMopJob_Enabled",
			Default = ThaBronxConfig.MopJob,
			NoExecute = true,
			Callback = function(Value)
				ThaBronxConfig.MopJob = Value; FarmMopJob()
			end
		})

		TBFarmsSection:CreateToggle({
			Name = "Auto Buy Rice",
			Flag = "TB2_AutoBuyRice_Enabled",
			Default = ThaBronxConfig.AutoBuyRice,
			NoExecute = true,
			Callback = function(Value)
				ThaBronxConfig.AutoBuyRice = Value
			end
		})

		TBFarmsSection:CreateToggle({
			Name = "Auto Buy Seeds",
			Flag = "TB2_AutoBuySeeds_Enabled",
			Default = ThaBronxConfig.AutoBuySeeds,
			NoExecute = true,
			Callback = function(Value)
				ThaBronxConfig.AutoBuySeeds = Value
			end
		})

		TBFarmsSection:CreateButton({
			Name = "Search Dumpsters",
			Callback = SearchDumpsters
		})

		TBFarmsSection:CreateButton({
			Name = "Swipe Cards",
			Callback = SwipeCards
		})

		TBFarmsSection:CreateButton({
			Name = "Rob House",
			Callback = HouseRob
		})

		TBFarmsSection:CreateButton({
			Name = "Rob \"On The Radar\" Studio",
			Callback = RobStudio
		})

		TBFarmsSection:CreateButton({
			Name = "Sell Pawn (Items)",
			Callback = SellPawn
		})

		TBFarmsSection:CreateToggle({
			Name = "Auto Sell Rice",
			Flag = "TB2_AutoSellRice",
			Default = ThaBronxConfig.AutoSellRice,
			Callback = function(Value)
				ThaBronxConfig.AutoSellRice = Value

				if Value then
					SellRice()
				end
			end
		})

		TBFarmsSection:CreateToggle({
			Name = "Auto Sell Grass",
			Flag = "TB2_AutoSellGrass",
			Default = ThaBronxConfig.AutoSellGrass,
			Callback = function(Value)
				ThaBronxConfig.AutoSellGrass = Value

				if Value then
					SellGrass()
				end
			end
		})

		TBFarmsSection:CreateButton({
			Name = "Sell Rice",
			Callback = SellRice
		})

		TBFarmsSection:CreateButton({
			Name = "Sell Grass",
			Callback = SellGrass
		})

		--// Combat

		if TBCombat then
			TBCombat:CreateToggle({
				Name = "Silent Aim",
				Flag = "TB2_SilentAim",
				Default = ThaBronxConfig.SilentAim.Enabled,
				NoExecute = true,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.SilentAim.Enabled = Value
				end)
			})

			TBCombat:CreateToggle({
				Name = "Auto Shoot (Rage)",
				Flag = "TB2_AutoShoot",
				Default = ThaBronxConfig.SilentAim.AutoShoot,
				NoExecute = true,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.SilentAim.AutoShoot = Value
				end)
			})

			TBCombat:CreateToggle({
				Name = "Wall Check",
				Flag = "TB2_SilentAim_WallCheck",
				Default = ThaBronxConfig.SilentAim.WallCheck,
				NoExecute = true,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.SilentAim.WallCheck = Value
				end)
			})

			TBCombat:CreateToggle({
				Name = "Safe Zone Check",
				Flag = "TB2_SilentAim_SafeZone",
				Default = ThaBronxConfig.SilentAim.SafeZone,
				NoExecute = true,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.SilentAim.SafeZone = Value
				end)
			})

			TBCombat:CreateSlider({
				Name = "Hit Chance (%)",
				Flag = "TB2_SilentAim_HitChance",
				Default = ThaBronxConfig.SilentAim.HitChance,
				Min = 1,
				Max = 100,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.SilentAim.HitChance = Value
				end)
			})

			TBCombat:CreateLabel("Bullet Tracers")

			TBCombat:CreateToggle({
				Name = "Enabled",
				Flag = "TB2_BulletTracer_Enabled",
				Default = ThaBronxConfig.BulletTracers.Enabled,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.BulletTracers.Enabled = Value
				end)
			})

			TBCombat:CreateToggle({
				Name = "Fade",
				Flag = "TB2_BulletTracer_Fade",
				Default = ThaBronxConfig.BulletTracers.Fade,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.BulletTracers.Fade = Value
				end)
			})

			TBCombat:CreateToggle({
				Name = "Rainbow Color",
				Flag = "TB2_BulletTracer_RainbowColor",
				Default = ThaBronxConfig.BulletTracers.RainbowColor,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.BulletTracers.RainbowColor = Value
				end)
			})

			TBCombat:CreateSlider({
				Name = "Lifetime",
				Flag = "TB2_BulletTracer_Lifetime",
				Min = 0,
				Max = 5,
				Default = ThaBronxConfig.BulletTracers.Lifetime,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.BulletTracers.Lifetime = Value
				end)
			})

			TBCombat:CreateColorpicker({
				Name = "Color",
				Flag = "TB2_BulletTracer_Color",
				Default = ThaBronxConfig.BulletTracers.Color,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.BulletTracers.Color = Value
				end)
			})

			TBCombat:CreateSlider({
				Name = "Transparency",
				Flag = "TB2_BulletTracer_Transparency",
				Min = 0,
				Max = 1,
				Default = ThaBronxConfig.BulletTracers.Transparency,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.BulletTracers.Transparency = Value
				end)
			})

			TBCombat:CreateSlider({
				Name = "Thickness",
				Flag = "TB2_BulletTracer_Thickness",
				Min = 0,
				Max = 1,
				Default = ThaBronxConfig.BulletTracers.Thickness,
				Callback = LPH_NO_VIRTUALIZE(function(Value)
					ThaBronxConfig.BulletTracers.Thickness = Value
				end)
			})
		else
			warn("X-RO_THA_BRONX_2 > Your script executor does not support the silent aim features!")
		end

		--// Quick Shop

		TBPurchaseItems:CreateLabel("Remote Purchasing")

		TBPurchaseItems:CreateButton({
			Name = "Purchase Water ($10)",
			Callback = LPH_JIT_MAX(function()
				ShopRemote:InvokeServer("Water")
			end)
		})

		TBPurchaseItems:CreateButton({
			Name = "Purchase Juice ($25)",
			Callback = LPH_JIT_MAX(function()
				ShopRemote:InvokeServer("GreenAppleJuice")
			end)
		})

		TBPurchaseItems:CreateButton({
			Name = "Purchase Shiesty ($150)",
			Callback = LPH_JIT_MAX(function()
				ShopRemote:InvokeServer("Shiesty")
			end)
		})

		TBPurchaseItems:CreateButton({
			Name = "Purchase Gloves ($10)",
			Callback = LPH_JIT_MAX(function()
				ShopRemote:InvokeServer("BlackGloves")
			end)
		})

		TBPurchaseItems:CreateLabel("Exotic Dealer")

		TBPurchaseItems:CreateButton({
			Name = "Purchase Grape Drank ($500)",
			Callback = LPH_JIT_MAX(function()
				ExoticShopRemote:InvokeServer("GrapeDrank")
			end)
		})

		TBPurchaseItems:CreateButton({
			Name = "Purchase Rice ($2900)",
			Callback = LPH_JIT_MAX(function()
				ExoticShopRemote:InvokeServer("RiceBag")
			end)
		})

		TBPurchaseItems:CreateButton({
			Name = "Purchase Seeds ($1000)",
			Callback = LPH_JIT_MAX(function()
				ExoticShopRemote:InvokeServer("Seeds")
			end)
		})

		TBPurchaseItems:CreateButton({
			Name = "Purchase Fake Card ($700)",
			Callback = LPH_JIT_MAX(function()
				ExoticShopRemote:InvokeServer("FakeCard")
			end)
		})

		TBPurchaseItems:CreateLabel("Manual Purchasing")

		TBPurchaseItems:CreateButton({
			Name = "Purchase Rice ($3500)",
			Callback = BuyRice
		})

		TBPurchaseItems:CreateButton({
			Name = "Purchase Seeds ($1000)",
			Callback = BuySeeds
		})

		TBPurchaseItems:CreateButton({
			Name = "Purchase G2C ($1250)",
			Callback = LPH_JIT_MAX(function()
				if Debounce then
					return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
				end

				if (GetBalance() - 1250) < 0 then
					return SendNotification("X-Ro | Tha Bronx 2", "Insufficient funds!", 2)
				end

				Debounce = true

				local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
				local OldCFrame = HumanoidRootPart.CFrame

				local Prompt = workspace.GUNS.G2C["45"]:FindFirstChildOfClass("ProximityPrompt")

				Backpack = LocalPlayer:FindFirstChild("Backpack")

				local OldBackpackSize = #Backpack:GetChildren()

				repeat
					Teleport(CFramenew(92971.4688, 122097.953, 17007.166, -9.12696194e-08, 9.6977999e-09, -1, 5.55873889e-08, 1, 9.69779457e-09, 1, -5.55873889e-08, -9.12696194e-08))
					FirePrompt(Prompt)
				until #Backpack:GetChildren() > OldBackpackSize

				Teleport(OldCFrame); Debounce = false
			end)
		})

		TBPurchaseItems:CreateButton({
			Name = "Purchase .9mm ($20)",
			Callback = LPH_JIT_MAX(function()
				if Debounce then
					return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
				end

				if (GetBalance() - 20) < 0 then
					return SendNotification("X-Ro | Tha Bronx 2", "Insufficient funds!", 2)
				end

				Debounce = true

				local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
				local OldCFrame = HumanoidRootPart.CFrame

				local Prompt = workspace.GUNS[".9mm"].Sign:FindFirstChildOfClass("ProximityPrompt")

				Backpack = LocalPlayer:FindFirstChild("Backpack")

				local OldBackpackSize = #Backpack:GetChildren()

				repeat
					Teleport(Prompt.Parent.CFrame)
					FirePrompt(Prompt)
				until #Backpack:GetChildren() > OldBackpackSize

				Teleport(OldCFrame); Debounce = false
			end)
		})

		TBPurchaseItems:CreateButton({
			Name = "Purchase Bag ($500)",
			Callback = LPH_JIT_MAX(function()
				if Debounce then
					return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
				end

				if (GetBalance() - 500) < 0 then
					return SendNotification("X-Ro | Tha Bronx 2", "Insufficient funds!", 2)
				end

				Debounce = true

				local HumanoidRootPart = GetCharacter():FindFirstChild("HumanoidRootPart")
				local OldCFrame = HumanoidRootPart.CFrame

				local Prompt = workspace.GUNS.Bag.Bag:FindFirstChildOfClass("ProximityPrompt")

				Backpack = LocalPlayer:FindFirstChild("Backpack")

				local OldBackpackSize = #Backpack:GetChildren()

				repeat
					Teleport(Prompt.Parent.CFrame)
					FirePrompt(Prompt)
				until #Backpack:GetChildren() > OldBackpackSize

				Teleport(OldCFrame); Debounce = false
			end)
		})

		TBPurchaseItems:CreateLabel("Other Items (Manual Purchasing)")

		spawn(LPH_NO_VIRTUALIZE(function()
			repeat
				wait(0)
			until ItemsWrapped

			local Table = {}

			for Index, _ in next, Items do
				Table[#Table + 1] = Index
			end

			local Dropdown = TBPurchaseItems:CreateDropdown({
				Name = "Select Item / Weapon",
				Content = Table
			})

			TBPurchaseItems:CreateButton({
				Name = "Purchase Selected Item",
				Callback = function()
					local Value = Dropdown:GetOption()

					if Value == "..." then
						return SendNotification("X-Ro | Tha Bronx 2", "Please select an item first!", 2)
					end

					PurchaseItem(Items[Value])
				end
			})
		end))

		--// Player Modifications

		TBMods:CreateToggle({
			Name = "Instant Interact",
			Flag = "TB2_InstantPrompt_Enabled",
			Default = ThaBronxConfig.InstantPrompts,
			NoExecute = true,
			Callback = function(Value)
				ThaBronxConfig.InstantPrompts = Value
			end
		})

		TBMods:CreateToggle({
			Name = "Disable Camera Bobbing",
			Flag = "TB2_Camera_Bobbing",
			Default = ThaBronxConfig.CameraBobbing,
			NoExecute = true,
			Callback = function(Value)
				ThaBronxConfig.CameraBobbing = Value

				GetCharacter():FindFirstChild("CameraBobbing").Enabled = not ThaBronxConfig.CameraBobbing
			end
		})

		TBMods:CreateToggle({
			Name = "Disable Blood / Death Effects",
			Flag = "TB2_Health_Effects",
			Default = ThaBronxConfig.DisableScreenEffects,
			NoExecute = true,
			Callback = LPH_JIT_MAX(function(Value)
				ThaBronxConfig.DisableScreenEffects = Value

				local Character = GetCharacter()

				for _, _Value in next, LocalPlayer.PlayerGui:GetChildren() do
					if _Value.Name == "BloodGui" or _Value.Name == "LowHealthT" or _Value.Name == "CloseRangeBlood" then
						_Value.Enabled = not ThaBronxConfig.DisableScreenEffects
					end
				end

				Character:FindFirstChild("LowHealthEffect").Enabled = not ThaBronxConfig.DisableScreenEffects
				Character:FindFirstChild("deathClient").Enabled = not ThaBronxConfig.DisableScreenEffects
			end)
		})

		TBMods:CreateToggle({
			Name = "No Jump Cooldown",
			Flag = "TB2_NoJumpCooldown",
			Default = ThaBronxConfig.NoJumpCooldown,
			NoExecute = true,
			Callback = function(Value)
				ThaBronxConfig.NoJumpCooldown = Value

				LocalPlayer.PlayerGui:WaitForChild("JumpDebounce", true):FindFirstChildOfClass("LocalScript").Enabled = not ThaBronxConfig.NoJumpCooldown
			end
		})

		TBMods:CreateToggle({
			Name = "Instant Revive",
			Flag = "TB2_InstantRevive",
			Default = ThaBronxConfig.InstantRevive,
			NoExecute = true,
			Callback = LPH_JIT_MAX(function(Value)
				ThaBronxConfig.InstantRevive = Value

				local Dead = LocalPlayer.PlayerGui:WaitForChild("LowHealthT", true):FindFirstChildOfClass("Frame")

				if Value and Dead then
					TB2Connections["InstantRevive"] = Dead.Changed:Connect(function(Property)
						if Property == "Visible" and Dead.Visible and ThaBronxConfig.InstantRevive then
							repeat
								FSpamRemote:FireServer(); wait(0)
							until not Dead.Visible
						end
					end)
				end
			end)
		})

		TBMods:CreateToggle({
			Name = "Infinite Health / God Mode",
			Flag = "TB2_GodMode",
			Default = ThaBronxConfig.GodMode,
			NoExecute = true,
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				ThaBronxConfig.GodMode = Value
			end)
		})

		TBMods:CreateToggle({
			Name = "Infinite Sleep",
			Flag = "TB2_InfiniteSleep",
			Default = ThaBronxConfig.InfiniteSleep,
			NoExecute = true,
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				ThaBronxConfig.InfiniteSleep = Value

				if not GetREnvSupport then -- Support for executors without "getrenv", impractical alternative.
					LocalPlayer.PlayerGui.SleepGui.Frame.sleep.SleepBar.sleepScript.Disabled = Value
				end
			end)
		})

		TBMods:CreateToggle({
			Name = "Infinite Hunger",
			Flag = "TB2_InfiniteHunger",
			Default = ThaBronxConfig.InfiniteHunger,
			NoExecute = true,
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				ThaBronxConfig.InfiniteHunger = Value

				LocalPlayer.PlayerGui.Hunger.Frame.Frame.Frame.HungerBarScript.Disabled = Value
			end)
		})

		TBMods:CreateToggle({
			Name = "Infinite Stamina",
			Flag = "TB2_InfiniteStamina",
			Default = ThaBronxConfig.InfiniteStamina,
			NoExecute = true,
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				ThaBronxConfig.InfiniteStamina = Value

				LocalPlayer.PlayerGui.Run.Frame.Frame.Frame.StaminaBarScript.Disabled = Value
			end)
		})

		TBMods:CreateToggle({
			Name = "No Rent Pay",
			Flag = "TB2_NoRentPay",
			Default = ThaBronxConfig.NoRentPay,
			NoExecute = true,
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				ThaBronxConfig.NoRentPay = Value

				LocalPlayer.PlayerGui.RentGui.LocalScript.Disabled = Value
			end)
		})

		TBMods:CreateToggle({
			Name = "No Fall Damage",
			Flag = "TB2_NoFallDamage",
			Default = ThaBronxConfig.NoFallDamage,
			NoExecute = true,
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				ThaBronxConfig.NoFallDamage = Value

				if GetCharacter() then
					GetCharacter():WaitForChild("FallDamageRagdoll", true).Disabled = Value
				end
			end)
		})

		TBMods:CreateToggle({
			Name = "Instant Respawn",
			Flag = "TB2_InstantRespawn",
			Default = ThaBronxConfig.InstantRespawn,
			NoExecute = true,
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				ThaBronxConfig.InstantRespawn = Value
			end)
		})

		if RequireSupport then
			TBMods:CreateLabel("Weapon Modifications / Gun Mods")

			for Index, _ in next, ThaBronxConfig._Modifications do
				TBMods:CreateToggle({
					Name = stringgsub(Index, "(%l)(%u)", LPH_NO_VIRTUALIZE(function(...)
						return select(1, ...).." "..select(2, ...)
					end)),
					Flag = "TB2_"..Index,
					Callback = LPH_NO_VIRTUALIZE(function(Value)
						ThaBronxConfig.Modifications[Index] = Value
					end)
				})
			end
		else
			warn("X-RO_THA_BRONX_2 > Your script executor does not support the weapon modification features (gun mods)!")
		end

		--// Miscellaneous

		TBMisc:CreateButton({
			Name = "Duplicate Gun / Item (Bag)",
			Callback = LPH_JIT_MAX(function()
				if not GetCharacter():FindFirstChildOfClass("Tool") then
					return SendNotification("X-Ro | Tha Bronx 2", "You must equip the desired gun before running this action!", 3)
				end

				if not LocalPlayer.Backpack:FindFirstChild("Bag") then
					return SendNotification("X-Ro | Tha Bronx 2", "You must own a bag ($500) to perform this action!", 3)
				end

				if Debounce then
					return SendNotification("X-Ro | Tha Bronx 2", "There is a different function currently in action, please wait until it finishes!", 4)
				end

				Debounce = true

				local GunName = GetCharacter():FindFirstChildOfClass("Tool").Name

				GetCharacter():FindFirstChildOfClass("Humanoid"):UnequipTools()

				spawn(function()
					BackpackRemote:InvokeServer("Store", GunName)
				end)

				spawn(function()
					ListWeaponRemote:FireServer(GunName, 100000)
				end)

				wait(0.2)

				BuyItemRemote:FireServer(GunName, "Remove")

				wait(1.5)

				BackpackRemote:InvokeServer("Grab", GunName)

				Debounce = false
			end)
		})

		TBMisc:CreateButton({
			Name = "Duplicate Gun / Item (Safe) [Recommended]",
			Callback = DuplicateItem
		})

		TBMisc:CreateToggle({
			Name = "Store Duplicated Item In Safe",
			Flag = "TB2_StoreDupe",
			Default = ThaBronxConfig.StoreDupe,
			Callback = function(Value)
				ThaBronxConfig.StoreDupe = Value
			end
		})

		TBMisc:CreateButton({
			Name = "Clean Money",
			Callback = CleanMoney
		})

		TBMisc:CreateButton({
			Name = "Cook Rice",
			Callback = CookRice
		})

		TBMisc:CreateButton({
			Name = "Plant Seeds",
			Callback = PlantSeeds
		})

		TBMisc:CreateButton({
			Name = "Collect / Steal Grass",
			Callback = CollectGrass
		})

		TBMisc:CreateButton({
			Name = "Teleport To Closest Safe",
			Callback = LPH_NO_VIRTUALIZE(function()
				if not Debounce then
					Teleport(workspace["1# Map"]["2 Crosswalks"].Safes.Safe.Union.CFrame)
				else
					SendNotification("X-Ro | Tha Bronx 2", "Couldn't teleport to a safe, there is a different function in action!", 3)
				end
			end)
		})

		TBMisc:CreateButton({
			Name = "Store Item In Safe",
			Callback = LPH_NO_VIRTUALIZE(function()
				if Debounce then
					return SendNotification("X-Ro | Tha Bronx 2", "Couldn't store item, there is a different function in action!", 3)
				end

				local Item = GetCharacter():FindFirstChildOfClass("Tool")

				if not Item then
					return SendNotification("X-Ro | Tha Bronx 2", "You must equip an item before running this action!", 2)
				end

				Debounce = true

				local Name = Item.Name
				GetCharacter():FindFirstChildOfClass("Humanoid"):UnequipTools()

				local Safe = workspace["1# Map"]["2 Crosswalks"].Safes.Safe
				local OldCFrame = GetCharacter():FindFirstChild("HumanoidRootPart").CFrame

				Teleport(Safe.Union.CFrame)

				wait(0.5)

				Inventory:FireServer("Change", Name, "Backpack", Safe)

				Teleport(OldCFrame); Debounce = false
			end)
		})

		TBMisc:CreateButton({
			Name = "Open / Close Market",
			Callback = LPH_NO_VIRTUALIZE(function()
				local GUI = LocalPlayer.PlayerGui:FindFirstChild("Bronx Market 2")

				if GUI then
					GUI.Enabled = not GUI.Enabled
				end
			end)
		})

		TBMisc:CreateToggle({
			Name = "Auto Cook Rice",
			Flag = "TB2_AutoCookRice",
			Default = ThaBronxConfig.AutoCookRice,
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				ThaBronxConfig.AutoCookRice = Value

				if Value then
					CookRice()
				end
			end)
		})

		TBMisc:CreateToggle({
			Name = "Auto Plant Seeds",
			Flag = "TB2_AutoPlantSeeds",
			Default = ThaBronxConfig.AutoPlantSeeds,
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				ThaBronxConfig.AutoPlantSeeds = Value

				if Value then
					PlantSeeds()
				end
			end)
		})

		--[[
		TBMisc:CreateToggle({
			Name = "Auto Duplicate Rice / Grass",
			Flag = "TB2_AutoDuplicate",
			Default = ThaBronxConfig.AutoDuplicate,
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				ThaBronxConfig.AutoDuplicate = Value
			end)
		})
		]]

		TBMisc:CreateTextBox({
			Name = "Amount (Cash) - Max: $30,000",
			Flag = "TB2_Cash_Amount",
			Placeholder = "[<ENTER_$_AMOUNT>]",
			Callback = LPH_NO_VIRTUALIZE(function(Value)
				CashAmountInput = stringgsub(Value, "%D+", "")
			end)
		})

		TBMisc:CreateButton({
			Name = "Drop Amount",
			Callback = LPH_NO_VIRTUALIZE(function()
				if tonumber(CashAmountInput) then
					BankProcessRemote:InvokeServer("Drop", CashAmountInput)
				else
					SendNotification("X-Ro | Tha Bronx 2", "Please input a natural number!", 2)
				end
			end)
		})

		TBMisc:CreateButton({
			Name = "Withdraw Amount",
			Callback = LPH_NO_VIRTUALIZE(function()
				if tonumber(CashAmountInput) then
					BankAction:FireServer("with", CashAmountInput)
				else
					SendNotification("X-Ro | Tha Bronx 2", "Please input a natural number!", 2)
				end
			end)
		})

		TBMisc:CreateButton({
			Name = "Deposit Amount",
			Callback = LPH_NO_VIRTUALIZE(function()
				if tonumber(CashAmountInput) then
					BankAction:FireServer("depo", CashAmountInput)
				else
					SendNotification("X-Ro | Tha Bronx 2", "Please input a natural number!", 2)
				end
			end)
		})

		--// Locations

		for Index, Value in next, Locations do
			if not stringmatch(Index, "(Safe Zone)") then
				TBLocationsSection:CreateButton({
					Name = Index,
					Callback = LPH_NO_VIRTUALIZE(function()
						Teleport(Value)
					end)
				})
			end
		end

		TBLocationsSection:CreateLabel("Safe Zones")

		for Index, Value in next, Locations do
			if stringmatch(Index, "(Safe Zone)") then
				TBLocationsSection:CreateButton({
					Name = stringgsub(Index, " %(Safe Zone%)", ""),
					Callback = LPH_NO_VIRTUALIZE(function()
						Teleport(Value)
					end)
				})
			end
		end

		--// End

		if GetREnvSupport then
			--spawn(LPH_NO_VIRTUALIZE(function()
				getrenv()._G.Notify("X-Ro | Tha Bronx 2 - loaded successfully in "..tostring(math.floor(tick() - Start)).." seconds. ("..identifyexecutor()..")")
				getrenv().shared.WarnPlayer("Thank you for using X-Ro, "..LocalPlayer.Name.."!")
			--end))
		end

		getgenv().XRO_TB2_LOADED = true
	end)

	--TB2Main(TB2Connections, ThaBronxTab, SendNotification, FlySettings, Aimbot)
end

repeat
	wait(0)
until ThaBronx and XRO_TB2_LOADED or true

--//

local GUI_Toggled = true

OnCharacter(GetCharacter())

local Humanoid = GetCharacter():FindFirstChildOfClass("Humanoid")

local JumpRequest = UserInputService.JumpRequest:Connect(LPH_JIT_MAX(function()
	if InfiniteJumpEnabled then
		Humanoid = GetCharacter():FindFirstChildOfClass("Humanoid"); Humanoid:ChangeState("Jumping")
	end
end))

local InputBegan = UserInputService.InputBegan:Connect(LPH_JIT_MAX(function(Input)
	if not Typing then
		if Input.KeyCode == Enum.KeyCode.RightShift then
			GUI_Toggled = not GUI_Toggled
			MainFrame:Toggle(GUI_Toggled)
		end

		if FlySettings.Enabled and FlySettings.Type == 2 then
			if Input.KeyCode == Enum.KeyCode.W then
				Control.Front = FlySettings.Speed
			elseif Input.KeyCode == Enum.KeyCode.S then
				Control.Back = -FlySettings.Speed
			elseif Input.KeyCode == Enum.KeyCode.A then
				Control.Left = -FlySettings.Speed
			elseif Input.KeyCode == Enum.KeyCode.D then
				Control.Right = FlySettings.Speed
			end
		end
	end
end))

local InputEnded = UserInputService.InputEnded:Connect(LPH_JIT_MAX(function(Input)
	if not Typing and FlySettings.Enabled and FlySettings.Type == 2 then
		if Input.KeyCode == Enum.KeyCode.W then
			Control.Front = 0
		elseif Input.KeyCode == Enum.KeyCode.S then
			Control.Back = 0
		elseif Input.KeyCode == Enum.KeyCode.A then
			Control.Left = 0
		elseif Input.KeyCode == Enum.KeyCode.D then
			Control.Right = 0
		end
	end
end))

local Idled = LocalPlayer.Idled:Connect(function()
	if AntiAfk and VirtualUser then
		VirtualUser:Button2Down(Vector2zero, Camera.CFrame)

		wait(1)

		VirtualUser:Button2Up(Vector2zero, Camera.CFrame)
	end
end)

GUISection:CreateToggle({
	Name = "Change Accent Color",
	Default = ChangeAccentColor,
	Flag = "RainbowAccentColor",
	Callback = function(Value)
		ChangeAccentColor = Value

		MainFrame:ChangeColor(Value and AccentColor or Color3fromRGB(0, 150, 90))
	end
})

GUISection:CreateColorpicker({
	Name = "Accent Color",
	Default = Color3fromRGB(0, 150, 90),
	Flag = "AccentColor",
	Callback = function(Value)
		AccentColor = Value
		MainFrame:ChangeColor(ChangeAccentColor and Value or Color3fromRGB(0, 150, 90))
	end
})

GUISection:CreateToggle({
	Name = "Rainbow Accent Color",
	Default = false,
	Flag = "RainbowAccentColor",
	Callback = function(Value)
		RainbowAccentColor = Value

		if not Value then
			MainFrame:ChangeColor(AccentColor)
		end
	end
})

GUISection:CreateButton({
	Name = "Unload GUI",
	Callback = function()
		MainFrame:DestroyGUI()

		SetMouseIconVisibility(true)
		Aimbot:Exit()
		ESP:Exit()
		Hitbox:Exit()
		--SelfESP.Config.Enabled = false

		if GetCharacter():FindFirstChild("X-RO_SELF_ESP") then
			GetCharacter()["X-RO_SELF_ESP"]:Destroy()
		end

		SpinBot = false
		FlySettings.Enabled = false
		InfiniteJumpEnabled = false
		AntiAfk = false
		XRO_NoClip = false

		Visuals.FullBright = false
		Visuals.Ambient = false
		Visuals.ClockTimeModifier = false

		ESP_Settings.StretchScreenResoultion = false
		FieldOfView.Enabled = false

		Modifiers._WalkSpeed = false
		Modifiers._JumpPower = false

		wait(1)

		if ThaBronx then
			for _, Value in next, TB2Connections do
				Value:Disconnect()
			end

			getgenv().XRO_TB2_LOADED = nil
		end

		OnCharacterConnection:Disconnect()
		RenderStepped:Disconnect()

		RecordMouse:Disconnect()
		JumpRequest:Disconnect()
		InputBegan:Disconnect()
		InputEnded:Disconnect()
		Idled:Disconnect()

		getgenv().XRO_LOADED = nil
	end
})

--//

ESP.Load()
Aimbot.Load(ESP)
Hitbox:Init(GetCharacter():WaitForChild("HumanoidRootPart").Size)

getgenv().XRO_LOADED = true
getgenv().XRO_LOADING = false
MainFrame:SetDefaultFlags()
MainFrame:Toggle(true)